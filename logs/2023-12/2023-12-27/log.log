2023-12-27 15:50:45.979 [SpringApplicationShutdownHook] [] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2023-12-27 15:50:45.979 [SpringApplicationShutdownHook] [] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2023-12-27 15:50:45.979 [SpringApplicationShutdownHook] [] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.HostReactor do shutdown stop
2023-12-27 15:50:45.979 [SpringApplicationShutdownHook] [] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.net.NamingProxy do shutdown begin
2023-12-27 15:50:45.980 [SpringApplicationShutdownHook] [] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2023-12-27 15:50:45.980 [SpringApplicationShutdownHook] [] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2023-12-27 15:50:45.980 [SpringApplicationShutdownHook] [] INFO  com.alibaba.nacos.client.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2023-12-27 15:50:45.981 [SpringApplicationShutdownHook] [] INFO  com.alibaba.nacos.client.identify.CredentialService - [null] CredentialService is freed
2023-12-27 15:50:45.981 [SpringApplicationShutdownHook] [] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.net.NamingProxy do shutdown stop
2023-12-27 15:50:45.985 [SpringApplicationShutdownHook] [] WARN  org.springframework.beans.factory.support.DisposableBeanAdapter - Custom destroy method 'close' on bean with name 'nacosServiceRegistry' threw an exception: java.lang.NullPointerException
2023-12-27 15:50:45.987 [SpringApplicationShutdownHook] [] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-12-27 15:50:45.992 [SpringApplicationShutdownHook] [] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-12-27 15:50:45.993 [SpringApplicationShutdownHook] [] DEBUG reactor.core.publisher.Hooks - Reset onEachOperator: org.springframework.cloud.sleuth.autoconfig.instrument.reactor.TraceReactorAutoConfiguration$TraceReactorConfiguration
2023-12-27 15:50:45.993 [SpringApplicationShutdownHook] [] DEBUG reactor.core.publisher.Hooks - Reset onLastOperator: org.springframework.cloud.sleuth.autoconfig.instrument.reactor.TraceReactorAutoConfiguration$TraceReactorConfiguration
2023-12-27 15:51:25.789 [main] [] INFO  com.alibaba.nacos.client.config.impl.LocalConfigInfoProcessor - LOCAL_SNAPSHOT_PATH:C:\Users\lirui\nacos\config
2023-12-27 15:51:25.799 [main] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/cs/configs?dataId=service-provider-two&group=DEFAULT_GROUP, body: null
2023-12-27 15:51:25.800 [main] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - Execute via interceptors :[com.alibaba.nacos.client.config.impl.ConfigHttpClientManager$LimiterHttpClientRequestInterceptor@2b9f74d0]
2023-12-27 15:51:25.810 [main] [] INFO  com.alibaba.nacos.client.config.impl.Limiter - limitTime:5.0
2023-12-27 15:51:25.831 [main] [] WARN  com.alibaba.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[service-provider-two] & group[DEFAULT_GROUP]
2023-12-27 15:51:25.832 [main] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/cs/configs?dataId=service-provider-two.yaml&group=DEFAULT_GROUP, body: null
2023-12-27 15:51:25.832 [main] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - Execute via interceptors :[com.alibaba.nacos.client.config.impl.ConfigHttpClientManager$LimiterHttpClientRequestInterceptor@2b9f74d0]
2023-12-27 15:51:25.835 [main] [] WARN  com.alibaba.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[service-provider-two.yaml] & group[DEFAULT_GROUP]
2023-12-27 15:51:25.835 [main] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/cs/configs?dataId=service-provider-two-test.yaml&group=DEFAULT_GROUP, body: null
2023-12-27 15:51:25.835 [main] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - Execute via interceptors :[com.alibaba.nacos.client.config.impl.ConfigHttpClientManager$LimiterHttpClientRequestInterceptor@2b9f74d0]
2023-12-27 15:51:25.838 [main] [] INFO  com.alibaba.nacos.client.config.utils.JvmUtil - isMultiInstance:false
2023-12-27 15:51:25.839 [main] [] DEBUG com.alibaba.cloud.nacos.client.NacosPropertySourceBuilder - Loading nacos data, dataId: 'service-provider-two-test.yaml', group: 'DEFAULT_GROUP', data: server:
  port: 8212
spring:
  application:
    name: service-provider-two  #service-provider-one nacos将服务服务注册中心，默认采用应用程序名称。如果两个服务名称一样，网关会采用负载均衡。默认轮训
  cloud:
    nacos:
      discovery:
        server-addr: 127.0.0.1:8848
#        metadata:  #以下是springbootadmin的配置
#          management:
#            context-path: '${server.servlet.context-path}/actuator'
  datasource:
    #mysql
    #具体参见类DynamicDataSourceAspect 说明
    #不用此默认，默认就是写库,多数据源用jdbcUrl，不是url,spring 默认用的是url，用多数据源用url会报错。
    url: jdbc:mysql://127.0.0.1:3306/demo?useUnicode=true&characterEncoding=utf8&useSSL=true&useJDBCCompliantTimezoneShift=true&useLegacyDatetimeCode=false&serverTimezone=UTC&allowMultiQueries=true&rewriteBatchedStatements=true
    driver-class-name: com.mysql.cj.jdbc.Driver
    username: root
    password: 123456

    # HikariCP： springboot2.0 默认的连接池。https://github.com/brettwooldridge/HikariCP
    #HikariCP  高并发性能优。mysql 8h 空闲断开连接可用quartz 调度定期select 1  。
    #产生此问题DB工作就不繁忙，性能要求不高。可以用上面dbcp2的配置，采取空闲查询策略。
    #要引入mybatis
    type: com.zaxxer.hikari.HikariDataSource
    # Hikari will use the above plus the following to setup connection pooling
    hikari:
      minimum-idle: 5
      maximum-pool-size: 100
      auto-commit: true #OrderManagerService 代码异常，spring自动回滚，或者手动回滚。否则正常自动提交
      idle-timeout: 60000
      #pool-name: HikariCP-Demo
      max-lifetime: 1800000
      connection-timeout: 600000
      #connection-test-query: SELECT 1
management:
  endpoints:
    web:
      exposure:
        include: '*'


#mybatis 配置和mybatis-plus不一样，springbootstarter的myabtis 版本要和mybatis-plus封装的mybatis版本保持一直，
#否则项目中同时存在的myabtis 和mybatis0plus因引用的mybatis版本不一致无法共存。
#mybatis:

#配置日志  打印sql语句
#mybatis-plus:
#  configuration:
#    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl

##mybatis 分页 pageHelper插件4.0.0以后的版本支持自动识别使用的数据库
#pagehelper:
#  ##  mysql、sqlserver2012，没找到sqlserver2008版本的
#  helperDialect: sqlserver2012
#  reasonable: true
#  supportMethodsArguments: true
#  params: count=countSql
2023-12-27 15:51:25.844 [main] [] INFO  org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-service-provider-two-test.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-service-provider-two.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-service-provider-two,DEFAULT_GROUP'}]
2023-12-27 15:51:25.869 [main] [] INFO  com.example.serviceprovidertwo.ServiceProviderTwoApplication - The following 1 profile is active: "test"
2023-12-27 15:51:26.371 [main] [] DEBUG com.baomidou.mybatisplus.autoconfigure.MybatisPlusAutoConfiguration - Searching for mappers annotated with @Mapper
2023-12-27 15:51:26.371 [main] [] DEBUG com.baomidou.mybatisplus.autoconfigure.MybatisPlusAutoConfiguration - Using auto-configuration base package 'com.example.serviceprovidertwo'
2023-12-27 15:51:26.660 [main] [] DEBUG org.apache.ibatis.logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2023-12-27 15:51:26.844 [main] [] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=5ecbdd8d-2f36-3d40-934c-4ffd96734233
2023-12-27 15:51:26.884 [main] [] DEBUG reactor.util.Loggers - Using Slf4j logging framework
2023-12-27 15:51:26.885 [main] [] DEBUG reactor.core.publisher.Hooks - Hooking onEachOperator: org.springframework.cloud.sleuth.autoconfig.instrument.reactor.TraceReactorAutoConfiguration$TraceReactorConfiguration
2023-12-27 15:51:26.885 [main] [] DEBUG reactor.core.publisher.Hooks - Hooking onLastOperator: org.springframework.cloud.sleuth.autoconfig.instrument.reactor.TraceReactorAutoConfiguration$TraceReactorConfiguration
2023-12-27 15:51:27.260 [main] [] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8212 (http)
2023-12-27 15:51:27.265 [main] [] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8212"]
2023-12-27 15:51:27.266 [main] [] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2023-12-27 15:51:27.266 [main] [] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2023-12-27 15:51:27.377 [main] [] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-12-27 15:51:27.377 [main] [] INFO  org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1497 ms
2023-12-27 15:51:27.437 [main] [] DEBUG io.micrometer.core.util.internal.logging.InternalLoggerFactory - Using SLF4J as the default logging framework
2023-12-27 15:51:27.516 [main] [] WARN  com.netflix.config.sources.URLConfigurationSource - No URLs will be polled as dynamic configuration sources.
2023-12-27 15:51:27.516 [main] [] INFO  com.netflix.config.sources.URLConfigurationSource - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2023-12-27 15:51:27.519 [main] [] DEBUG com.netflix.hystrix.strategy.HystrixPlugins - Created HystrixDynamicProperties. Using class : com.netflix.hystrix.strategy.properties.archaius.HystrixDynamicPropertiesArchaius
2023-12-27 15:51:27.523 [main] [] INFO  com.netflix.config.DynamicPropertyFactory - DynamicPropertyFactory is initialized with configuration sources: com.netflix.config.ConcurrentCompositeConfiguration@131d977f
2023-12-27 15:51:29.245 [main] [] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2023-12-27 15:51:29.251 [main] [] INFO  com.alibaba.nacos.client.naming - initializer namespace from System Property :null
2023-12-27 15:51:29.251 [main] [] INFO  com.alibaba.nacos.client.naming - initializer namespace from System Environment :null
2023-12-27 15:51:29.252 [main] [] INFO  com.alibaba.nacos.client.naming - initializer namespace from System Property :null
2023-12-27 15:51:29.257 [com.alibaba.nacos.client.naming.updater] [] DEBUG com.alibaba.nacos.client.naming - server list provided by user: [127.0.0.1:8848]
2023-12-27 15:51:29.257 [main] [] DEBUG com.alibaba.nacos.client.naming - server list provided by user: [127.0.0.1:8848]
2023-12-27 15:51:29.261 [com.alibaba.nacos.naming.failover] [] DEBUG com.alibaba.nacos.client.naming - failover switch is not found, failover00-00---000-VIPSRV_FAILOVER_SWITCH-000---00-00
2023-12-27 15:51:29.638 [main] [] DEBUG com.baomidou.mybatisplus.extension.spring.MybatisSqlSessionFactoryBean - Parsed mapper file: 'file [D:\work\project\git\java\spring-cloud-nacos\service-provider-two\target\classes\mapper\DemoProductMapper.xml]'
2023-12-27 15:51:29.948 [main] [] WARN  com.netflix.config.sources.URLConfigurationSource - No URLs will be polled as dynamic configuration sources.
2023-12-27 15:51:29.949 [main] [] INFO  com.netflix.config.sources.URLConfigurationSource - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2023-12-27 15:51:30.247 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 
	c.e.s.c.DemoProductController:
	{GET [/api/demoProduct/getDemoProductList]}: getDemoProductList(DemoProductRequest)
	{POST [/api/demoProduct/addDemoProductList]}: addDemoProductList(DemoProductRequest)
2023-12-27 15:51:30.252 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 
	c.e.s.c.TestController:
	{POST [/test/add]}: add(Student)
	{GET [/test/configName]}: configName(String)
	{GET [/test/helloWorld]}: helloWorld(String)
2023-12-27 15:51:30.253 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2023-12-27 15:51:30.268 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 
	o.s.w.a.OpenApiWebMvcResource:
	{GET [/v3/api-docs], produces [application/json]}: openapiJson(HttpServletRequest,String,Locale)
	{GET [/v3/api-docs.yaml], produces [application/vnd.oai.openapi]}: openapiYaml(HttpServletRequest,String,Locale)
2023-12-27 15:51:30.268 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 
	o.s.w.u.SwaggerWelcomeWebMvc:
	{GET [/swagger-ui.html]}: redirectToUi(HttpServletRequest)
2023-12-27 15:51:30.269 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 
	o.s.w.u.SwaggerConfigResource:
	{GET [/v3/api-docs/swagger-config], produces [application/json]}: openapiJson(HttpServletRequest)
2023-12-27 15:51:30.288 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 'beanNameHandlerMapping' {}
2023-12-27 15:51:30.310 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 'resourceHandlerMapping' {/webjars/**=ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]], /**=ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]], /swagger-ui*/*swagger-initializer.js=ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]], /swagger-ui*/**=ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]}
2023-12-27 15:51:30.371 [main] [] DEBUG com.baomidou.mybatisplus.autoconfigure.MybatisPlusAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2023-12-27 15:51:32.083 [main] [] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2023-12-27 15:51:32.276 [main] [] WARN  org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-12-27 15:51:32.361 [main] [] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 20 endpoint(s) beneath base path '/actuator'
2023-12-27 15:51:32.426 [main] [] DEBUG com.alibaba.nacos.client.naming - failover-mode: false
2023-12-27 15:51:32.427 [main] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/ns/instance/list?app=unknown&healthyOnly=false&namespaceId=public&clientIP=192.168.21.80&serviceName=DEFAULT_GROUP%40%40service-provider-two&udpPort=52926&clusters=DEFAULT, body: {}
2023-12-27 15:51:32.707 [main] [] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8212"]
2023-12-27 15:51:32.724 [main] [] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8212 (http) with context path ''
2023-12-27 15:51:32.728 [main] [] INFO  com.alibaba.nacos.client.naming - [BEAT] adding beat: BeatInfo{port=8212, ip='172.16.28.1', weight=1.0, serviceName='DEFAULT_GROUP@@service-provider-two', cluster='DEFAULT', metadata={preserved.register.source=SPRING_CLOUD}, scheduled=false, period=5000, stopped=false} to beat map.
2023-12-27 15:51:32.729 [main] [] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service DEFAULT_GROUP@@service-provider-two with instance: Instance{instanceId='null', ip='172.16.28.1', port=8212, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={preserved.register.source=SPRING_CLOUD}}
2023-12-27 15:51:32.731 [main] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: POST, url: http://127.0.0.1:8848/nacos/v1/ns/instance?app=unknown&groupName=DEFAULT_GROUP&metadata=%7B%22preserved.register.source%22%3A%22SPRING_CLOUD%22%7D&namespaceId=public&port=8212&enable=true&healthy=true&clusterName=DEFAULT&ip=172.16.28.1&weight=1.0&ephemeral=true&serviceName=DEFAULT_GROUP%40%40service-provider-two, body: {}
2023-12-27 15:51:32.738 [main] [] INFO  com.alibaba.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP service-provider-two 172.16.28.1:8212 register finished
2023-12-27 15:51:33.186 [com.alibaba.nacos.naming.push.receiver] [] INFO  com.alibaba.nacos.client.naming - received push data: {"type":"dom","data":"{\"name\":\"DEFAULT_GROUP@@service-provider-two\",\"clusters\":\"DEFAULT\",\"cacheMillis\":10000,\"hosts\":[],\"lastRefTime\":1703663493183,\"checksum\":\"\",\"allIPs\":false,\"reachProtectionThreshold\":false,\"valid\":true}","lastRefTime":272702945870100} from /192.168.21.80
2023-12-27 15:51:33.707 [com.alibaba.nacos.client.naming.updater] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/ns/instance/list?app=unknown&healthyOnly=false&namespaceId=public&clientIP=192.168.21.80&serviceName=DEFAULT_GROUP%40%40service-provider-two&udpPort=52926&clusters=DEFAULT, body: {}
2023-12-27 15:51:34.014 [main] [] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2023-12-27 15:51:34.034 [main] [] INFO  com.example.serviceprovidertwo.ServiceProviderTwoApplication - Started ServiceProviderTwoApplication in 11.515 seconds (JVM running for 12.493)
2023-12-27 15:51:34.039 [main] [] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] service-provider-two.yaml+DEFAULT_GROUP
2023-12-27 15:51:34.040 [main] [] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=service-provider-two.yaml, group=DEFAULT_GROUP, cnt=1
2023-12-27 15:51:34.041 [main] [] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] service-provider-two-test.yaml+DEFAULT_GROUP
2023-12-27 15:51:34.041 [main] [] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=service-provider-two-test.yaml, group=DEFAULT_GROUP, cnt=1
2023-12-27 15:51:34.041 [main] [] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] service-provider-two+DEFAULT_GROUP
2023-12-27 15:51:34.041 [main] [] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=service-provider-two, group=DEFAULT_GROUP, cnt=1
2023-12-27 15:51:34.046 [com.alibaba.nacos.client.Worker.longPolling.fixed-127.0.0.1_8848] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - HTTP method: POST, url: http://127.0.0.1:8848/nacos/v1/cs/configs/listener, body: {Listening-Configs=service-provider-two.yamlDEFAULT_GROUPservice-provider-twoDEFAULT_GROUPservice-provider-two-test.yamlDEFAULT_GROUPe19079f3ea7c3e4e3e98766a6fa144d3}
2023-12-27 15:51:34.046 [com.alibaba.nacos.client.Worker.longPolling.fixed-127.0.0.1_8848] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - Execute via interceptors :[com.alibaba.nacos.client.config.impl.ConfigHttpClientManager$LimiterHttpClientRequestInterceptor@2b9f74d0]
2023-12-27 15:51:34.048 [com.alibaba.nacos.client.Worker.longPolling.fixed-127.0.0.1_8848] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - HTTP method: POST, url: http://127.0.0.1:8848/nacos/v1/cs/configs/listener, body: {Listening-Configs=service-provider-two.yamlDEFAULT_GROUPservice-provider-twoDEFAULT_GROUPservice-provider-two-test.yamlDEFAULT_GROUPe19079f3ea7c3e4e3e98766a6fa144d3}
2023-12-27 15:51:34.048 [com.alibaba.nacos.client.Worker.longPolling.fixed-127.0.0.1_8848] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - Execute via interceptors :[com.alibaba.nacos.client.config.impl.ConfigHttpClientManager$LimiterHttpClientRequestInterceptor@2b9f74d0]
2023-12-27 15:51:34.263 [com.alibaba.nacos.naming.failover] [] DEBUG com.alibaba.nacos.client.naming - failover switch is not found, failover00-00---000-VIPSRV_FAILOVER_SWITCH-000---00-00
2023-12-27 15:51:34.374 [com.alibaba.nacos.naming.push.receiver] [] INFO  com.alibaba.nacos.client.naming - received push data: {"type":"dom","data":"{\"name\":\"DEFAULT_GROUP@@service-provider-two\",\"clusters\":\"DEFAULT\",\"cacheMillis\":10000,\"hosts\":[{\"instanceId\":\"172.16.28.1#8212#DEFAULT#DEFAULT_GROUP@@service-provider-two\",\"ip\":\"172.16.28.1\",\"port\":8212,\"weight\":1.0,\"healthy\":true,\"enabled\":true,\"ephemeral\":true,\"clusterName\":\"DEFAULT\",\"serviceName\":\"DEFAULT_GROUP@@service-provider-two\",\"metadata\":{\"preserved.register.source\":\"SPRING_CLOUD\"},\"instanceHeartBeatInterval\":5000,\"instanceHeartBeatTimeOut\":15000,\"ipDeleteTimeout\":30000}],\"lastRefTime\":1703663494372,\"checksum\":\"\",\"allIPs\":false,\"reachProtectionThreshold\":false,\"valid\":true}","lastRefTime":272704134958099} from /192.168.21.80
2023-12-27 15:51:34.386 [com.alibaba.nacos.naming.push.receiver] [] INFO  com.alibaba.nacos.client.naming - new ips(1) service: DEFAULT_GROUP@@service-provider-two@@DEFAULT -> [{"instanceId":"172.16.28.1#8212#DEFAULT#DEFAULT_GROUP@@service-provider-two","ip":"172.16.28.1","port":8212,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@service-provider-two","metadata":{"preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000}]
2023-12-27 15:51:34.386 [nacos.publisher-com.alibaba.nacos.client.naming.event.InstancesChangeEvent] [] DEBUG com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] the com.alibaba.nacos.client.naming.event.InstancesChangeEvent@3943829 will received by com.alibaba.nacos.client.naming.event.InstancesChangeNotifier@44c27b8b
2023-12-27 15:51:34.391 [com.alibaba.nacos.naming.push.receiver] [] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@service-provider-two@@DEFAULT -> [{"instanceId":"172.16.28.1#8212#DEFAULT#DEFAULT_GROUP@@service-provider-two","ip":"172.16.28.1","port":8212,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@service-provider-two","metadata":{"preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000}]
2023-12-27 15:51:34.521 [RMI TCP Connection(3)-192.168.21.80] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/ns/operator/metrics?app=unknown&namespaceId=public, body: {}
2023-12-27 15:51:34.523 [RMI TCP Connection(2)-192.168.21.80] [] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-12-27 15:51:34.524 [RMI TCP Connection(2)-192.168.21.80] [] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-12-27 15:51:34.525 [RMI TCP Connection(2)-192.168.21.80] [] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2023-12-27 15:51:34.529 [RMI TCP Connection(3)-192.168.21.80] [] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-12-27 15:51:34.939 [RMI TCP Connection(3)-192.168.21.80] [] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-12-27 15:51:34.949 [RMI TCP Connection(3)-192.168.21.80] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/ns/service/list?app=unknown&pageSize=2147483647&groupName=DEFAULT_GROUP&namespaceId=public&pageNo=1, body: {}
2023-12-27 15:51:35.713 [com.alibaba.nacos.client.naming.updater] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/ns/instance/list?app=unknown&healthyOnly=false&namespaceId=public&clientIP=192.168.21.80&serviceName=DEFAULT_GROUP%40%40service-provider-two&udpPort=52926&clusters=DEFAULT, body: {}
2023-12-27 15:51:37.738 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - [BEAT] public sending beat to server: BeatInfo{port=8212, ip='172.16.28.1', weight=1.0, serviceName='DEFAULT_GROUP@@service-provider-two', cluster='DEFAULT', metadata={preserved.register.source=SPRING_CLOUD}, scheduled=false, period=5000, stopped=false}
2023-12-27 15:51:37.739 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: PUT, url: http://127.0.0.1:8848/nacos/v1/ns/instance/beat?app=unknown&serviceName=DEFAULT_GROUP%40%40service-provider-two&namespaceId=public&port=8212&clusterName=DEFAULT&ip=172.16.28.1, body: {beat={"port":8212,"ip":"172.16.28.1","weight":1.0,"serviceName":"DEFAULT_GROUP@@service-provider-two","cluster":"DEFAULT","metadata":{"preserved.register.source":"SPRING_CLOUD"},"scheduled":false,"period":5000,"stopped":false}}
2023-12-27 15:51:39.263 [com.alibaba.nacos.naming.failover] [] DEBUG com.alibaba.nacos.client.naming - failover switch is not found, failover00-00---000-VIPSRV_FAILOVER_SWITCH-000---00-00
2023-12-27 15:51:42.753 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - [BEAT] public sending beat to server: BeatInfo{port=8212, ip='172.16.28.1', weight=1.0, serviceName='DEFAULT_GROUP@@service-provider-two', cluster='DEFAULT', metadata={preserved.register.source=SPRING_CLOUD}, scheduled=false, period=5000, stopped=false}
2023-12-27 15:51:42.753 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: PUT, url: http://127.0.0.1:8848/nacos/v1/ns/instance/beat?app=unknown&serviceName=DEFAULT_GROUP%40%40service-provider-two&namespaceId=public&port=8212&clusterName=DEFAULT&ip=172.16.28.1, body: {}
2023-12-27 15:51:44.274 [com.alibaba.nacos.naming.failover] [] DEBUG com.alibaba.nacos.client.naming - failover switch is not found, failover00-00---000-VIPSRV_FAILOVER_SWITCH-000---00-00
2023-12-27 15:51:45.719 [com.alibaba.nacos.client.naming.updater] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/ns/instance/list?app=unknown&healthyOnly=false&namespaceId=public&clientIP=192.168.21.80&serviceName=DEFAULT_GROUP%40%40service-provider-two&udpPort=52926&clusters=DEFAULT, body: {}
2023-12-27 15:51:47.765 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - [BEAT] public sending beat to server: BeatInfo{port=8212, ip='172.16.28.1', weight=1.0, serviceName='DEFAULT_GROUP@@service-provider-two', cluster='DEFAULT', metadata={preserved.register.source=SPRING_CLOUD}, scheduled=false, period=5000, stopped=false}
2023-12-27 15:51:47.765 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: PUT, url: http://127.0.0.1:8848/nacos/v1/ns/instance/beat?app=unknown&serviceName=DEFAULT_GROUP%40%40service-provider-two&namespaceId=public&port=8212&clusterName=DEFAULT&ip=172.16.28.1, body: {}
2023-12-27 15:51:49.279 [com.alibaba.nacos.naming.failover] [] DEBUG com.alibaba.nacos.client.naming - failover switch is not found, failover00-00---000-VIPSRV_FAILOVER_SWITCH-000---00-00
2023-12-27 15:51:52.780 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - [BEAT] public sending beat to server: BeatInfo{port=8212, ip='172.16.28.1', weight=1.0, serviceName='DEFAULT_GROUP@@service-provider-two', cluster='DEFAULT', metadata={preserved.register.source=SPRING_CLOUD}, scheduled=false, period=5000, stopped=false}
2023-12-27 15:51:52.780 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: PUT, url: http://127.0.0.1:8848/nacos/v1/ns/instance/beat?app=unknown&serviceName=DEFAULT_GROUP%40%40service-provider-two&namespaceId=public&port=8212&clusterName=DEFAULT&ip=172.16.28.1, body: {}
2023-12-27 15:51:54.281 [com.alibaba.nacos.naming.failover] [] DEBUG com.alibaba.nacos.client.naming - failover switch is not found, failover00-00---000-VIPSRV_FAILOVER_SWITCH-000---00-00
2023-12-27 15:51:55.727 [com.alibaba.nacos.client.naming.updater] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/ns/instance/list?app=unknown&healthyOnly=false&namespaceId=public&clientIP=192.168.21.80&serviceName=DEFAULT_GROUP%40%40service-provider-two&udpPort=52926&clusters=DEFAULT, body: {}
2023-12-27 15:51:57.800 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - [BEAT] public sending beat to server: BeatInfo{port=8212, ip='172.16.28.1', weight=1.0, serviceName='DEFAULT_GROUP@@service-provider-two', cluster='DEFAULT', metadata={preserved.register.source=SPRING_CLOUD}, scheduled=false, period=5000, stopped=false}
2023-12-27 15:51:57.800 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: PUT, url: http://127.0.0.1:8848/nacos/v1/ns/instance/beat?app=unknown&serviceName=DEFAULT_GROUP%40%40service-provider-two&namespaceId=public&port=8212&clusterName=DEFAULT&ip=172.16.28.1, body: {}
2023-12-27 15:51:59.267 [com.alibaba.nacos.client.naming.updater] [] DEBUG com.alibaba.nacos.client.naming - server list provided by user: [127.0.0.1:8848]
2023-12-27 15:51:59.283 [com.alibaba.nacos.naming.failover] [] DEBUG com.alibaba.nacos.client.naming - failover switch is not found, failover00-00---000-VIPSRV_FAILOVER_SWITCH-000---00-00
2023-12-27 15:52:02.810 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - [BEAT] public sending beat to server: BeatInfo{port=8212, ip='172.16.28.1', weight=1.0, serviceName='DEFAULT_GROUP@@service-provider-two', cluster='DEFAULT', metadata={preserved.register.source=SPRING_CLOUD}, scheduled=false, period=5000, stopped=false}
2023-12-27 15:52:02.810 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: PUT, url: http://127.0.0.1:8848/nacos/v1/ns/instance/beat?app=unknown&serviceName=DEFAULT_GROUP%40%40service-provider-two&namespaceId=public&port=8212&clusterName=DEFAULT&ip=172.16.28.1, body: {}
2023-12-27 15:52:03.762 [com.alibaba.nacos.client.Worker.longPolling.fixed-127.0.0.1_8848] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - HTTP method: POST, url: http://127.0.0.1:8848/nacos/v1/cs/configs/listener, body: {Listening-Configs=service-provider-two.yamlDEFAULT_GROUPservice-provider-twoDEFAULT_GROUPservice-provider-two-test.yamlDEFAULT_GROUPe19079f3ea7c3e4e3e98766a6fa144d3}
2023-12-27 15:52:03.762 [com.alibaba.nacos.client.Worker.longPolling.fixed-127.0.0.1_8848] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - Execute via interceptors :[com.alibaba.nacos.client.config.impl.ConfigHttpClientManager$LimiterHttpClientRequestInterceptor@2b9f74d0]
2023-12-27 15:52:04.286 [com.alibaba.nacos.naming.failover] [] DEBUG com.alibaba.nacos.client.naming - failover switch is not found, failover00-00---000-VIPSRV_FAILOVER_SWITCH-000---00-00
2023-12-27 15:52:05.746 [com.alibaba.nacos.client.naming.updater] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/ns/instance/list?app=unknown&healthyOnly=false&namespaceId=public&clientIP=192.168.21.80&serviceName=DEFAULT_GROUP%40%40service-provider-two&udpPort=52926&clusters=DEFAULT, body: {}
2023-12-27 15:52:07.817 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - [BEAT] public sending beat to server: BeatInfo{port=8212, ip='172.16.28.1', weight=1.0, serviceName='DEFAULT_GROUP@@service-provider-two', cluster='DEFAULT', metadata={preserved.register.source=SPRING_CLOUD}, scheduled=false, period=5000, stopped=false}
2023-12-27 15:52:07.817 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: PUT, url: http://127.0.0.1:8848/nacos/v1/ns/instance/beat?app=unknown&serviceName=DEFAULT_GROUP%40%40service-provider-two&namespaceId=public&port=8212&clusterName=DEFAULT&ip=172.16.28.1, body: {}
2023-12-27 15:52:09.296 [com.alibaba.nacos.naming.failover] [] DEBUG com.alibaba.nacos.client.naming - failover switch is not found, failover00-00---000-VIPSRV_FAILOVER_SWITCH-000---00-00
2023-12-27 15:52:09.835 [Thread-26] [] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2023-12-27 15:52:09.835 [Thread-6] [] WARN  com.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2023-12-27 15:52:09.835 [Thread-26] [] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2023-12-27 15:52:09.835 [Thread-6] [] WARN  com.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2023-12-27 15:52:10.059 [SpringApplicationShutdownHook] [] INFO  com.alibaba.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2023-12-27 15:52:10.059 [SpringApplicationShutdownHook] [] INFO  com.alibaba.nacos.client.naming - [BEAT] removing beat: DEFAULT_GROUP@@service-provider-two:172.16.28.1:8212 from beat map.
2023-12-27 15:52:10.059 [SpringApplicationShutdownHook] [] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] public deregistering service DEFAULT_GROUP@@service-provider-two with instance: Instance{instanceId='null', ip='172.16.28.1', port=8212, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2023-12-27 15:52:10.060 [SpringApplicationShutdownHook] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: DELETE, url: http://127.0.0.1:8848/nacos/v1/ns/instance?app=unknown&namespaceId=public&port=8212&clusterName=DEFAULT&ip=172.16.28.1&ephemeral=true&serviceName=DEFAULT_GROUP%40%40service-provider-two, body: {}
2023-12-27 15:52:10.066 [SpringApplicationShutdownHook] [] INFO  com.alibaba.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2023-12-27 15:52:10.067 [SpringApplicationShutdownHook] [] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.beat.BeatReactor do shutdown begin
2023-12-27 15:52:17.702 [main] [] INFO  com.alibaba.nacos.client.config.impl.LocalConfigInfoProcessor - LOCAL_SNAPSHOT_PATH:C:\Users\lirui\nacos\config
2023-12-27 15:52:17.712 [main] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/cs/configs?dataId=service-provider-two&group=DEFAULT_GROUP, body: null
2023-12-27 15:52:17.713 [main] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - Execute via interceptors :[com.alibaba.nacos.client.config.impl.ConfigHttpClientManager$LimiterHttpClientRequestInterceptor@47b67fcb]
2023-12-27 15:52:17.723 [main] [] INFO  com.alibaba.nacos.client.config.impl.Limiter - limitTime:5.0
2023-12-27 15:52:17.745 [main] [] WARN  com.alibaba.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[service-provider-two] & group[DEFAULT_GROUP]
2023-12-27 15:52:17.746 [main] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/cs/configs?dataId=service-provider-two.yaml&group=DEFAULT_GROUP, body: null
2023-12-27 15:52:17.746 [main] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - Execute via interceptors :[com.alibaba.nacos.client.config.impl.ConfigHttpClientManager$LimiterHttpClientRequestInterceptor@47b67fcb]
2023-12-27 15:52:17.749 [main] [] WARN  com.alibaba.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[service-provider-two.yaml] & group[DEFAULT_GROUP]
2023-12-27 15:52:17.749 [main] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/cs/configs?dataId=service-provider-two-test.yaml&group=DEFAULT_GROUP, body: null
2023-12-27 15:52:17.749 [main] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - Execute via interceptors :[com.alibaba.nacos.client.config.impl.ConfigHttpClientManager$LimiterHttpClientRequestInterceptor@47b67fcb]
2023-12-27 15:52:17.754 [main] [] INFO  com.alibaba.nacos.client.config.utils.JvmUtil - isMultiInstance:false
2023-12-27 15:52:17.755 [main] [] DEBUG com.alibaba.cloud.nacos.client.NacosPropertySourceBuilder - Loading nacos data, dataId: 'service-provider-two-test.yaml', group: 'DEFAULT_GROUP', data: server:
  port: 8212
spring:
  application:
    name: service-provider-two  #service-provider-one nacos将服务服务注册中心，默认采用应用程序名称。如果两个服务名称一样，网关会采用负载均衡。默认轮训
  cloud:
    nacos:
      discovery:
        server-addr: 127.0.0.1:8848
#        metadata:  #以下是springbootadmin的配置
#          management:
#            context-path: '${server.servlet.context-path}/actuator'
  datasource:
    #mysql
    #具体参见类DynamicDataSourceAspect 说明
    #不用此默认，默认就是写库,多数据源用jdbcUrl，不是url,spring 默认用的是url，用多数据源用url会报错。
    url: jdbc:mysql://127.0.0.1:3306/demo?useUnicode=true&characterEncoding=utf8&useSSL=true&useJDBCCompliantTimezoneShift=true&useLegacyDatetimeCode=false&serverTimezone=UTC&allowMultiQueries=true&rewriteBatchedStatements=true
    driver-class-name: com.mysql.cj.jdbc.Driver
    username: root
    password: 123456

    # HikariCP： springboot2.0 默认的连接池。https://github.com/brettwooldridge/HikariCP
    #HikariCP  高并发性能优。mysql 8h 空闲断开连接可用quartz 调度定期select 1  。
    #产生此问题DB工作就不繁忙，性能要求不高。可以用上面dbcp2的配置，采取空闲查询策略。
    #要引入mybatis
    type: com.zaxxer.hikari.HikariDataSource
    # Hikari will use the above plus the following to setup connection pooling
    hikari:
      minimum-idle: 5
      maximum-pool-size: 100
      auto-commit: true #OrderManagerService 代码异常，spring自动回滚，或者手动回滚。否则正常自动提交
      idle-timeout: 60000
      #pool-name: HikariCP-Demo
      max-lifetime: 1800000
      connection-timeout: 600000
      #connection-test-query: SELECT 1
management:
  endpoints:
    web:
      exposure:
        include: '*'


#mybatis 配置和mybatis-plus不一样，springbootstarter的myabtis 版本要和mybatis-plus封装的mybatis版本保持一直，
#否则项目中同时存在的myabtis 和mybatis0plus因引用的mybatis版本不一致无法共存。
#mybatis:

#配置日志  打印sql语句
#mybatis-plus:
#  configuration:
#    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl

##mybatis 分页 pageHelper插件4.0.0以后的版本支持自动识别使用的数据库
#pagehelper:
#  ##  mysql、sqlserver2012，没找到sqlserver2008版本的
#  helperDialect: sqlserver2012
#  reasonable: true
#  supportMethodsArguments: true
#  params: count=countSql
2023-12-27 15:52:17.758 [main] [] INFO  org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-service-provider-two-test.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-service-provider-two.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-service-provider-two,DEFAULT_GROUP'}]
2023-12-27 15:52:17.775 [main] [] INFO  com.example.serviceprovidertwo.ServiceProviderTwoApplication - The following 1 profile is active: "test"
2023-12-27 15:52:18.267 [main] [] DEBUG com.baomidou.mybatisplus.autoconfigure.MybatisPlusAutoConfiguration - Searching for mappers annotated with @Mapper
2023-12-27 15:52:18.267 [main] [] DEBUG com.baomidou.mybatisplus.autoconfigure.MybatisPlusAutoConfiguration - Using auto-configuration base package 'com.example.serviceprovidertwo'
2023-12-27 15:52:18.578 [main] [] DEBUG org.apache.ibatis.logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2023-12-27 15:52:18.749 [main] [] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=5ecbdd8d-2f36-3d40-934c-4ffd96734233
2023-12-27 15:52:18.789 [main] [] DEBUG reactor.util.Loggers - Using Slf4j logging framework
2023-12-27 15:52:18.789 [main] [] DEBUG reactor.core.publisher.Hooks - Hooking onEachOperator: org.springframework.cloud.sleuth.autoconfig.instrument.reactor.TraceReactorAutoConfiguration$TraceReactorConfiguration
2023-12-27 15:52:18.789 [main] [] DEBUG reactor.core.publisher.Hooks - Hooking onLastOperator: org.springframework.cloud.sleuth.autoconfig.instrument.reactor.TraceReactorAutoConfiguration$TraceReactorConfiguration
2023-12-27 15:52:19.176 [main] [] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8212 (http)
2023-12-27 15:52:19.189 [main] [] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8212"]
2023-12-27 15:52:19.190 [main] [] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2023-12-27 15:52:19.190 [main] [] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2023-12-27 15:52:19.310 [main] [] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-12-27 15:52:19.310 [main] [] INFO  org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1525 ms
2023-12-27 15:52:19.367 [main] [] DEBUG io.micrometer.core.util.internal.logging.InternalLoggerFactory - Using SLF4J as the default logging framework
2023-12-27 15:52:19.453 [main] [] WARN  com.netflix.config.sources.URLConfigurationSource - No URLs will be polled as dynamic configuration sources.
2023-12-27 15:52:19.453 [main] [] INFO  com.netflix.config.sources.URLConfigurationSource - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2023-12-27 15:52:19.457 [main] [] DEBUG com.netflix.hystrix.strategy.HystrixPlugins - Created HystrixDynamicProperties. Using class : com.netflix.hystrix.strategy.properties.archaius.HystrixDynamicPropertiesArchaius
2023-12-27 15:52:19.460 [main] [] INFO  com.netflix.config.DynamicPropertyFactory - DynamicPropertyFactory is initialized with configuration sources: com.netflix.config.ConcurrentCompositeConfiguration@197d5a87
2023-12-27 15:52:21.204 [main] [] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2023-12-27 15:52:21.204 [main] [] INFO  com.alibaba.nacos.client.naming - initializer namespace from System Property :null
2023-12-27 15:52:21.204 [main] [] INFO  com.alibaba.nacos.client.naming - initializer namespace from System Environment :null
2023-12-27 15:52:21.204 [main] [] INFO  com.alibaba.nacos.client.naming - initializer namespace from System Property :null
2023-12-27 15:52:21.214 [com.alibaba.nacos.client.naming.updater] [] DEBUG com.alibaba.nacos.client.naming - server list provided by user: [127.0.0.1:8848]
2023-12-27 15:52:21.214 [main] [] DEBUG com.alibaba.nacos.client.naming - server list provided by user: [127.0.0.1:8848]
2023-12-27 15:52:21.214 [com.alibaba.nacos.naming.failover] [] DEBUG com.alibaba.nacos.client.naming - failover switch is not found, failover00-00---000-VIPSRV_FAILOVER_SWITCH-000---00-00
2023-12-27 15:52:21.556 [main] [] DEBUG com.baomidou.mybatisplus.extension.spring.MybatisSqlSessionFactoryBean - Parsed mapper file: 'file [D:\work\project\git\java\spring-cloud-nacos\service-provider-two\target\classes\mapper\DemoProductMapper.xml]'
2023-12-27 15:52:21.857 [main] [] WARN  com.netflix.config.sources.URLConfigurationSource - No URLs will be polled as dynamic configuration sources.
2023-12-27 15:52:21.857 [main] [] INFO  com.netflix.config.sources.URLConfigurationSource - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2023-12-27 15:52:22.118 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 
	c.e.s.c.DemoProductController:
	{GET [/api/demoProduct/getDemoProductList]}: getDemoProductList(DemoProductRequest)
	{POST [/api/demoProduct/addDemoProductList]}: addDemoProductList(DemoProductRequest)
2023-12-27 15:52:22.128 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 
	c.e.s.c.TestController:
	{POST [/test/add]}: add(Student)
	{GET [/test/configName]}: configName(String)
	{GET [/test/helloWorld]}: helloWorld(String)
2023-12-27 15:52:22.128 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2023-12-27 15:52:22.138 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 
	o.s.w.a.OpenApiWebMvcResource:
	{GET [/v3/api-docs.yaml], produces [application/vnd.oai.openapi]}: openapiYaml(HttpServletRequest,String,Locale)
	{GET [/v3/api-docs], produces [application/json]}: openapiJson(HttpServletRequest,String,Locale)
2023-12-27 15:52:22.138 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 
	o.s.w.u.SwaggerWelcomeWebMvc:
	{GET [/swagger-ui.html]}: redirectToUi(HttpServletRequest)
2023-12-27 15:52:22.138 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 
	o.s.w.u.SwaggerConfigResource:
	{GET [/v3/api-docs/swagger-config], produces [application/json]}: openapiJson(HttpServletRequest)
2023-12-27 15:52:22.158 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 'beanNameHandlerMapping' {}
2023-12-27 15:52:22.168 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 'resourceHandlerMapping' {/webjars/**=ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]], /**=ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]], /swagger-ui*/*swagger-initializer.js=ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]], /swagger-ui*/**=ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]}
2023-12-27 15:52:22.218 [main] [] DEBUG com.baomidou.mybatisplus.autoconfigure.MybatisPlusAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2023-12-27 15:52:23.925 [main] [] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2023-12-27 15:52:24.076 [main] [] WARN  org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-12-27 15:52:24.156 [main] [] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 20 endpoint(s) beneath base path '/actuator'
2023-12-27 15:52:24.227 [main] [] DEBUG com.alibaba.nacos.client.naming - failover-mode: false
2023-12-27 15:52:24.227 [main] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/ns/instance/list?app=unknown&healthyOnly=false&namespaceId=public&clientIP=192.168.21.80&serviceName=DEFAULT_GROUP%40%40service-provider-two&udpPort=60951&clusters=DEFAULT, body: {}
2023-12-27 15:52:24.472 [main] [] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8212"]
2023-12-27 15:52:24.493 [main] [] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8212 (http) with context path ''
2023-12-27 15:52:24.494 [main] [] INFO  com.alibaba.nacos.client.naming - [BEAT] adding beat: BeatInfo{port=8212, ip='172.16.28.1', weight=1.0, serviceName='DEFAULT_GROUP@@service-provider-two', cluster='DEFAULT', metadata={preserved.register.source=SPRING_CLOUD}, scheduled=false, period=5000, stopped=false} to beat map.
2023-12-27 15:52:24.494 [main] [] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service DEFAULT_GROUP@@service-provider-two with instance: Instance{instanceId='null', ip='172.16.28.1', port=8212, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={preserved.register.source=SPRING_CLOUD}}
2023-12-27 15:52:24.494 [main] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: POST, url: http://127.0.0.1:8848/nacos/v1/ns/instance?app=unknown&groupName=DEFAULT_GROUP&metadata=%7B%22preserved.register.source%22%3A%22SPRING_CLOUD%22%7D&namespaceId=public&port=8212&enable=true&healthy=true&clusterName=DEFAULT&ip=172.16.28.1&weight=1.0&ephemeral=true&serviceName=DEFAULT_GROUP%40%40service-provider-two, body: {}
2023-12-27 15:52:24.503 [main] [] INFO  com.alibaba.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP service-provider-two 172.16.28.1:8212 register finished
2023-12-27 15:52:25.007 [com.alibaba.nacos.naming.push.receiver] [] INFO  com.alibaba.nacos.client.naming - received push data: {"type":"dom","data":"{\"name\":\"DEFAULT_GROUP@@service-provider-two\",\"clusters\":\"DEFAULT\",\"cacheMillis\":10000,\"hosts\":[],\"lastRefTime\":1703663545007,\"checksum\":\"\",\"allIPs\":false,\"reachProtectionThreshold\":false,\"valid\":true}","lastRefTime":272754770057200} from /192.168.21.80
2023-12-27 15:52:25.483 [com.alibaba.nacos.client.naming.updater] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/ns/instance/list?app=unknown&healthyOnly=false&namespaceId=public&clientIP=192.168.21.80&serviceName=DEFAULT_GROUP%40%40service-provider-two&udpPort=60951&clusters=DEFAULT, body: {}
2023-12-27 15:52:25.775 [main] [] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2023-12-27 15:52:25.798 [main] [] INFO  com.example.serviceprovidertwo.ServiceProviderTwoApplication - Started ServiceProviderTwoApplication in 11.29 seconds (JVM running for 12.361)
2023-12-27 15:52:25.803 [main] [] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] service-provider-two.yaml+DEFAULT_GROUP
2023-12-27 15:52:25.804 [main] [] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=service-provider-two.yaml, group=DEFAULT_GROUP, cnt=1
2023-12-27 15:52:25.804 [main] [] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] service-provider-two-test.yaml+DEFAULT_GROUP
2023-12-27 15:52:25.804 [main] [] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=service-provider-two-test.yaml, group=DEFAULT_GROUP, cnt=1
2023-12-27 15:52:25.805 [main] [] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] service-provider-two+DEFAULT_GROUP
2023-12-27 15:52:25.805 [main] [] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=service-provider-two, group=DEFAULT_GROUP, cnt=1
2023-12-27 15:52:25.808 [com.alibaba.nacos.client.Worker.longPolling.fixed-127.0.0.1_8848] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - HTTP method: POST, url: http://127.0.0.1:8848/nacos/v1/cs/configs/listener, body: {Listening-Configs=service-provider-two.yamlDEFAULT_GROUPservice-provider-twoDEFAULT_GROUPservice-provider-two-test.yamlDEFAULT_GROUPe19079f3ea7c3e4e3e98766a6fa144d3}
2023-12-27 15:52:25.808 [com.alibaba.nacos.client.Worker.longPolling.fixed-127.0.0.1_8848] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - Execute via interceptors :[com.alibaba.nacos.client.config.impl.ConfigHttpClientManager$LimiterHttpClientRequestInterceptor@47b67fcb]
2023-12-27 15:52:25.810 [com.alibaba.nacos.client.Worker.longPolling.fixed-127.0.0.1_8848] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - HTTP method: POST, url: http://127.0.0.1:8848/nacos/v1/cs/configs/listener, body: {Listening-Configs=service-provider-two.yamlDEFAULT_GROUPservice-provider-twoDEFAULT_GROUPservice-provider-two-test.yamlDEFAULT_GROUPe19079f3ea7c3e4e3e98766a6fa144d3}
2023-12-27 15:52:25.811 [com.alibaba.nacos.client.Worker.longPolling.fixed-127.0.0.1_8848] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - Execute via interceptors :[com.alibaba.nacos.client.config.impl.ConfigHttpClientManager$LimiterHttpClientRequestInterceptor@47b67fcb]
2023-12-27 15:52:26.093 [com.alibaba.nacos.naming.push.receiver] [] INFO  com.alibaba.nacos.client.naming - received push data: {"type":"dom","data":"{\"name\":\"DEFAULT_GROUP@@service-provider-two\",\"clusters\":\"DEFAULT\",\"cacheMillis\":10000,\"hosts\":[{\"instanceId\":\"172.16.28.1#8212#DEFAULT#DEFAULT_GROUP@@service-provider-two\",\"ip\":\"172.16.28.1\",\"port\":8212,\"weight\":1.0,\"healthy\":true,\"enabled\":true,\"ephemeral\":true,\"clusterName\":\"DEFAULT\",\"serviceName\":\"DEFAULT_GROUP@@service-provider-two\",\"metadata\":{\"preserved.register.source\":\"SPRING_CLOUD\"},\"instanceHeartBeatInterval\":5000,\"instanceHeartBeatTimeOut\":15000,\"ipDeleteTimeout\":30000}],\"lastRefTime\":1703663546084,\"checksum\":\"\",\"allIPs\":false,\"reachProtectionThreshold\":false,\"valid\":true}","lastRefTime":272755847018799} from /192.168.21.80
2023-12-27 15:52:26.107 [com.alibaba.nacos.naming.push.receiver] [] INFO  com.alibaba.nacos.client.naming - new ips(1) service: DEFAULT_GROUP@@service-provider-two@@DEFAULT -> [{"instanceId":"172.16.28.1#8212#DEFAULT#DEFAULT_GROUP@@service-provider-two","ip":"172.16.28.1","port":8212,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@service-provider-two","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2023-12-27 15:52:26.107 [nacos.publisher-com.alibaba.nacos.client.naming.event.InstancesChangeEvent] [] DEBUG com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] the com.alibaba.nacos.client.naming.event.InstancesChangeEvent@7c438104 will received by com.alibaba.nacos.client.naming.event.InstancesChangeNotifier@17e6b7e4
2023-12-27 15:52:26.112 [com.alibaba.nacos.naming.push.receiver] [] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@service-provider-two@@DEFAULT -> [{"instanceId":"172.16.28.1#8212#DEFAULT#DEFAULT_GROUP@@service-provider-two","ip":"172.16.28.1","port":8212,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@service-provider-two","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2023-12-27 15:52:26.226 [com.alibaba.nacos.naming.failover] [] DEBUG com.alibaba.nacos.client.naming - failover switch is not found, failover00-00---000-VIPSRV_FAILOVER_SWITCH-000---00-00
2023-12-27 15:52:26.317 [RMI TCP Connection(3)-192.168.21.80] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/ns/operator/metrics?app=unknown&namespaceId=public, body: {}
2023-12-27 15:52:26.321 [RMI TCP Connection(2)-192.168.21.80] [] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-12-27 15:52:26.321 [RMI TCP Connection(2)-192.168.21.80] [] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-12-27 15:52:26.323 [RMI TCP Connection(2)-192.168.21.80] [] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2023-12-27 15:52:26.326 [RMI TCP Connection(3)-192.168.21.80] [] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-12-27 15:52:26.704 [RMI TCP Connection(3)-192.168.21.80] [] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-12-27 15:52:26.714 [RMI TCP Connection(3)-192.168.21.80] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/ns/service/list?app=unknown&pageSize=2147483647&groupName=DEFAULT_GROUP&namespaceId=public&pageNo=1, body: {}
2023-12-27 15:52:27.491 [com.alibaba.nacos.client.naming.updater] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/ns/instance/list?app=unknown&healthyOnly=false&namespaceId=public&clientIP=192.168.21.80&serviceName=DEFAULT_GROUP%40%40service-provider-two&udpPort=60951&clusters=DEFAULT, body: {}
2023-12-27 15:52:29.511 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - [BEAT] public sending beat to server: BeatInfo{port=8212, ip='172.16.28.1', weight=1.0, serviceName='DEFAULT_GROUP@@service-provider-two', cluster='DEFAULT', metadata={preserved.register.source=SPRING_CLOUD}, scheduled=false, period=5000, stopped=false}
2023-12-27 15:52:29.515 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: PUT, url: http://127.0.0.1:8848/nacos/v1/ns/instance/beat?app=unknown&serviceName=DEFAULT_GROUP%40%40service-provider-two&namespaceId=public&port=8212&clusterName=DEFAULT&ip=172.16.28.1, body: {beat={"port":8212,"ip":"172.16.28.1","weight":1.0,"serviceName":"DEFAULT_GROUP@@service-provider-two","cluster":"DEFAULT","metadata":{"preserved.register.source":"SPRING_CLOUD"},"scheduled":false,"period":5000,"stopped":false}}
2023-12-27 15:52:31.235 [com.alibaba.nacos.naming.failover] [] DEBUG com.alibaba.nacos.client.naming - failover switch is not found, failover00-00---000-VIPSRV_FAILOVER_SWITCH-000---00-00
2023-12-27 15:52:34.534 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - [BEAT] public sending beat to server: BeatInfo{port=8212, ip='172.16.28.1', weight=1.0, serviceName='DEFAULT_GROUP@@service-provider-two', cluster='DEFAULT', metadata={preserved.register.source=SPRING_CLOUD}, scheduled=false, period=5000, stopped=false}
2023-12-27 15:52:34.534 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: PUT, url: http://127.0.0.1:8848/nacos/v1/ns/instance/beat?app=unknown&serviceName=DEFAULT_GROUP%40%40service-provider-two&namespaceId=public&port=8212&clusterName=DEFAULT&ip=172.16.28.1, body: {}
2023-12-27 15:52:36.249 [com.alibaba.nacos.naming.failover] [] DEBUG com.alibaba.nacos.client.naming - failover switch is not found, failover00-00---000-VIPSRV_FAILOVER_SWITCH-000---00-00
2023-12-27 15:52:37.507 [com.alibaba.nacos.client.naming.updater] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/ns/instance/list?app=unknown&healthyOnly=false&namespaceId=public&clientIP=192.168.21.80&serviceName=DEFAULT_GROUP%40%40service-provider-two&udpPort=60951&clusters=DEFAULT, body: {}
2023-12-27 15:52:39.540 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - [BEAT] public sending beat to server: BeatInfo{port=8212, ip='172.16.28.1', weight=1.0, serviceName='DEFAULT_GROUP@@service-provider-two', cluster='DEFAULT', metadata={preserved.register.source=SPRING_CLOUD}, scheduled=false, period=5000, stopped=false}
2023-12-27 15:52:39.540 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: PUT, url: http://127.0.0.1:8848/nacos/v1/ns/instance/beat?app=unknown&serviceName=DEFAULT_GROUP%40%40service-provider-two&namespaceId=public&port=8212&clusterName=DEFAULT&ip=172.16.28.1, body: {}
2023-12-27 15:52:41.261 [com.alibaba.nacos.naming.failover] [] DEBUG com.alibaba.nacos.client.naming - failover switch is not found, failover00-00---000-VIPSRV_FAILOVER_SWITCH-000---00-00
2023-12-27 15:52:42.326 [Thread-6] [] WARN  com.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2023-12-27 15:52:42.326 [Thread-26] [] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2023-12-27 15:52:42.326 [Thread-26] [] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2023-12-27 15:52:42.327 [Thread-6] [] WARN  com.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2023-12-27 15:52:42.527 [SpringApplicationShutdownHook] [] INFO  com.alibaba.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2023-12-27 15:52:42.527 [SpringApplicationShutdownHook] [] INFO  com.alibaba.nacos.client.naming - [BEAT] removing beat: DEFAULT_GROUP@@service-provider-two:172.16.28.1:8212 from beat map.
2023-12-27 15:52:42.528 [SpringApplicationShutdownHook] [] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] public deregistering service DEFAULT_GROUP@@service-provider-two with instance: Instance{instanceId='null', ip='172.16.28.1', port=8212, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2023-12-27 15:52:42.528 [SpringApplicationShutdownHook] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: DELETE, url: http://127.0.0.1:8848/nacos/v1/ns/instance?app=unknown&namespaceId=public&port=8212&clusterName=DEFAULT&ip=172.16.28.1&ephemeral=true&serviceName=DEFAULT_GROUP%40%40service-provider-two, body: {}
2023-12-27 15:52:42.533 [SpringApplicationShutdownHook] [] INFO  com.alibaba.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2023-12-27 15:52:42.534 [SpringApplicationShutdownHook] [] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.beat.BeatReactor do shutdown begin
2023-12-27 15:52:43.426 [com.alibaba.nacos.naming.push.receiver] [] INFO  com.alibaba.nacos.client.naming - received push data: {"type":"dom","data":"{\"name\":\"DEFAULT_GROUP@@service-provider-two\",\"clusters\":\"DEFAULT\",\"cacheMillis\":10000,\"hosts\":[],\"lastRefTime\":1703663563425,\"checksum\":\"\",\"allIPs\":false,\"reachProtectionThreshold\":false,\"valid\":true}","lastRefTime":272773187350999} from /192.168.21.80
2023-12-27 15:52:43.426 [com.alibaba.nacos.naming.push.receiver] [] INFO  com.alibaba.nacos.client.naming - removed ips(1) service: DEFAULT_GROUP@@service-provider-two@@DEFAULT -> [{"instanceId":"172.16.28.1#8212#DEFAULT#DEFAULT_GROUP@@service-provider-two","ip":"172.16.28.1","port":8212,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@service-provider-two","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2023-12-27 15:52:43.426 [nacos.publisher-com.alibaba.nacos.client.naming.event.InstancesChangeEvent] [] DEBUG com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] the com.alibaba.nacos.client.naming.event.InstancesChangeEvent@38f94fe2 will received by com.alibaba.nacos.client.naming.event.InstancesChangeNotifier@17e6b7e4
2023-12-27 15:52:43.426 [com.alibaba.nacos.naming.push.receiver] [] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@service-provider-two@@DEFAULT -> []
2023-12-27 15:52:44.559 [SpringApplicationShutdownHook] [] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.beat.BeatReactor do shutdown stop
2023-12-27 15:52:44.560 [SpringApplicationShutdownHook] [] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.HostReactor do shutdown begin
2023-12-27 15:52:46.274 [com.alibaba.nacos.naming.failover] [] DEBUG com.alibaba.nacos.client.naming - failover switch is not found, failover00-00---000-VIPSRV_FAILOVER_SWITCH-000---00-00
2023-12-27 15:52:47.519 [com.alibaba.nacos.client.naming.updater] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/ns/instance/list?app=unknown&healthyOnly=false&namespaceId=public&clientIP=192.168.21.80&serviceName=DEFAULT_GROUP%40%40service-provider-two&udpPort=60951&clusters=DEFAULT, body: {}
2023-12-27 15:52:47.524 [SpringApplicationShutdownHook] [] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.PushReceiver do shutdown begin
2023-12-27 15:52:50.551 [SpringApplicationShutdownHook] [] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.PushReceiver do shutdown stop
2023-12-27 15:52:50.551 [SpringApplicationShutdownHook] [] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2023-12-27 15:52:50.551 [SpringApplicationShutdownHook] [] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2023-12-27 15:52:50.551 [SpringApplicationShutdownHook] [] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.HostReactor do shutdown stop
2023-12-27 15:52:50.551 [SpringApplicationShutdownHook] [] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.net.NamingProxy do shutdown begin
2023-12-27 15:52:50.552 [SpringApplicationShutdownHook] [] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2023-12-27 15:52:50.552 [SpringApplicationShutdownHook] [] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2023-12-27 15:52:50.552 [SpringApplicationShutdownHook] [] INFO  com.alibaba.nacos.client.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2023-12-27 15:52:50.553 [SpringApplicationShutdownHook] [] INFO  com.alibaba.nacos.client.identify.CredentialService - [null] CredentialService is freed
2023-12-27 15:52:50.553 [SpringApplicationShutdownHook] [] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.net.NamingProxy do shutdown stop
2023-12-27 15:52:50.554 [SpringApplicationShutdownHook] [] WARN  org.springframework.beans.factory.support.DisposableBeanAdapter - Custom destroy method 'close' on bean with name 'nacosServiceRegistry' threw an exception: java.lang.NullPointerException
2023-12-27 15:52:50.556 [SpringApplicationShutdownHook] [] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-12-27 15:52:50.562 [SpringApplicationShutdownHook] [] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-12-27 15:52:50.564 [SpringApplicationShutdownHook] [] DEBUG reactor.core.publisher.Hooks - Reset onEachOperator: org.springframework.cloud.sleuth.autoconfig.instrument.reactor.TraceReactorAutoConfiguration$TraceReactorConfiguration
2023-12-27 15:52:50.564 [SpringApplicationShutdownHook] [] DEBUG reactor.core.publisher.Hooks - Reset onLastOperator: org.springframework.cloud.sleuth.autoconfig.instrument.reactor.TraceReactorAutoConfiguration$TraceReactorConfiguration
2023-12-27 15:56:26.241 [main] [] INFO  com.alibaba.nacos.client.config.impl.LocalConfigInfoProcessor - LOCAL_SNAPSHOT_PATH:C:\Users\lirui\nacos\config
2023-12-27 15:56:26.255 [main] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/cs/configs?dataId=service-provider-two&group=DEFAULT_GROUP, body: null
2023-12-27 15:56:26.255 [main] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - Execute via interceptors :[com.alibaba.nacos.client.config.impl.ConfigHttpClientManager$LimiterHttpClientRequestInterceptor@690bc15e]
2023-12-27 15:56:26.270 [main] [] INFO  com.alibaba.nacos.client.config.impl.Limiter - limitTime:5.0
2023-12-27 15:56:26.299 [main] [] WARN  com.alibaba.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[service-provider-two] & group[DEFAULT_GROUP]
2023-12-27 15:56:26.300 [main] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/cs/configs?dataId=service-provider-two.yaml&group=DEFAULT_GROUP, body: null
2023-12-27 15:56:26.300 [main] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - Execute via interceptors :[com.alibaba.nacos.client.config.impl.ConfigHttpClientManager$LimiterHttpClientRequestInterceptor@690bc15e]
2023-12-27 15:56:26.304 [main] [] WARN  com.alibaba.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[service-provider-two.yaml] & group[DEFAULT_GROUP]
2023-12-27 15:56:26.305 [main] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/cs/configs?dataId=service-provider-two-test.yaml&group=DEFAULT_GROUP, body: null
2023-12-27 15:56:26.305 [main] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - Execute via interceptors :[com.alibaba.nacos.client.config.impl.ConfigHttpClientManager$LimiterHttpClientRequestInterceptor@690bc15e]
2023-12-27 15:56:26.309 [main] [] INFO  com.alibaba.nacos.client.config.utils.JvmUtil - isMultiInstance:false
2023-12-27 15:56:26.310 [main] [] DEBUG com.alibaba.cloud.nacos.client.NacosPropertySourceBuilder - Loading nacos data, dataId: 'service-provider-two-test.yaml', group: 'DEFAULT_GROUP', data: server:
  port: 8212
spring:
  application:
    name: service-provider-two  #service-provider-one nacos将服务服务注册中心，默认采用应用程序名称。如果两个服务名称一样，网关会采用负载均衡。默认轮训
  cloud:
    nacos:
      discovery:
        server-addr: 127.0.0.1:8848
#        metadata:  #以下是springbootadmin的配置
#          management:
#            context-path: '${server.servlet.context-path}/actuator'
  datasource:
    #mysql
    #具体参见类DynamicDataSourceAspect 说明
    #不用此默认，默认就是写库,多数据源用jdbcUrl，不是url,spring 默认用的是url，用多数据源用url会报错。
    url: jdbc:mysql://127.0.0.1:3306/demo?useUnicode=true&characterEncoding=utf8&useSSL=true&useJDBCCompliantTimezoneShift=true&useLegacyDatetimeCode=false&serverTimezone=UTC&allowMultiQueries=true&rewriteBatchedStatements=true
    driver-class-name: com.mysql.cj.jdbc.Driver
    username: root
    password: 123456

    # HikariCP： springboot2.0 默认的连接池。https://github.com/brettwooldridge/HikariCP
    #HikariCP  高并发性能优。mysql 8h 空闲断开连接可用quartz 调度定期select 1  。
    #产生此问题DB工作就不繁忙，性能要求不高。可以用上面dbcp2的配置，采取空闲查询策略。
    #要引入mybatis
    type: com.zaxxer.hikari.HikariDataSource
    # Hikari will use the above plus the following to setup connection pooling
    hikari:
      minimum-idle: 5
      maximum-pool-size: 100
      auto-commit: true #OrderManagerService 代码异常，spring自动回滚，或者手动回滚。否则正常自动提交
      idle-timeout: 60000
      #pool-name: HikariCP-Demo
      max-lifetime: 1800000
      connection-timeout: 600000
      #connection-test-query: SELECT 1
management:
  endpoints:
    web:
      exposure:
        include: '*'


#mybatis 配置和mybatis-plus不一样，springbootstarter的myabtis 版本要和mybatis-plus封装的mybatis版本保持一直，
#否则项目中同时存在的myabtis 和mybatis0plus因引用的mybatis版本不一致无法共存。
#mybatis:

#配置日志  打印sql语句
#mybatis-plus:
#  configuration:
#    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl

##mybatis 分页 pageHelper插件4.0.0以后的版本支持自动识别使用的数据库
#pagehelper:
#  ##  mysql、sqlserver2012，没找到sqlserver2008版本的
#  helperDialect: sqlserver2012
#  reasonable: true
#  supportMethodsArguments: true
#  params: count=countSql
2023-12-27 15:56:26.314 [main] [] INFO  org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-service-provider-two-test.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-service-provider-two.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-service-provider-two,DEFAULT_GROUP'}]
2023-12-27 15:56:26.333 [main] [] INFO  com.example.serviceprovidertwo.ServiceProviderTwoApplication - The following 1 profile is active: "test"
2023-12-27 15:56:26.945 [main] [] DEBUG com.baomidou.mybatisplus.autoconfigure.MybatisPlusAutoConfiguration - Searching for mappers annotated with @Mapper
2023-12-27 15:56:26.945 [main] [] DEBUG com.baomidou.mybatisplus.autoconfigure.MybatisPlusAutoConfiguration - Using auto-configuration base package 'com.example.serviceprovidertwo'
2023-12-27 15:56:27.310 [main] [] DEBUG org.apache.ibatis.logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2023-12-27 15:56:27.502 [main] [] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=5ecbdd8d-2f36-3d40-934c-4ffd96734233
2023-12-27 15:56:27.548 [main] [] DEBUG reactor.util.Loggers - Using Slf4j logging framework
2023-12-27 15:56:27.548 [main] [] DEBUG reactor.core.publisher.Hooks - Hooking onEachOperator: org.springframework.cloud.sleuth.autoconfig.instrument.reactor.TraceReactorAutoConfiguration$TraceReactorConfiguration
2023-12-27 15:56:27.549 [main] [] DEBUG reactor.core.publisher.Hooks - Hooking onLastOperator: org.springframework.cloud.sleuth.autoconfig.instrument.reactor.TraceReactorAutoConfiguration$TraceReactorConfiguration
2023-12-27 15:56:28.016 [main] [] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8212 (http)
2023-12-27 15:56:28.024 [main] [] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8212"]
2023-12-27 15:56:28.025 [main] [] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2023-12-27 15:56:28.025 [main] [] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2023-12-27 15:56:28.171 [main] [] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-12-27 15:56:28.171 [main] [] INFO  org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1828 ms
2023-12-27 15:56:28.226 [main] [] DEBUG io.micrometer.core.util.internal.logging.InternalLoggerFactory - Using SLF4J as the default logging framework
2023-12-27 15:56:28.320 [main] [] WARN  com.netflix.config.sources.URLConfigurationSource - No URLs will be polled as dynamic configuration sources.
2023-12-27 15:56:28.320 [main] [] INFO  com.netflix.config.sources.URLConfigurationSource - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2023-12-27 15:56:28.323 [main] [] DEBUG com.netflix.hystrix.strategy.HystrixPlugins - Created HystrixDynamicProperties. Using class : com.netflix.hystrix.strategy.properties.archaius.HystrixDynamicPropertiesArchaius
2023-12-27 15:56:28.328 [main] [] INFO  com.netflix.config.DynamicPropertyFactory - DynamicPropertyFactory is initialized with configuration sources: com.netflix.config.ConcurrentCompositeConfiguration@73ddb7ef
2023-12-27 15:56:28.976 [Thread-6] [] WARN  com.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2023-12-27 15:56:28.977 [Thread-6] [] WARN  com.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2023-12-27 15:56:30.168 [main] [] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2023-12-27 15:56:30.181 [main] [] INFO  com.alibaba.nacos.client.naming - initializer namespace from System Property :null
2023-12-27 15:56:30.181 [main] [] INFO  com.alibaba.nacos.client.naming - initializer namespace from System Environment :null
2023-12-27 15:56:30.182 [main] [] INFO  com.alibaba.nacos.client.naming - initializer namespace from System Property :null
2023-12-27 15:56:30.187 [com.alibaba.nacos.client.naming.updater] [] DEBUG com.alibaba.nacos.client.naming - server list provided by user: [127.0.0.1:8848]
2023-12-27 15:56:30.187 [main] [] DEBUG com.alibaba.nacos.client.naming - server list provided by user: [127.0.0.1:8848]
2023-12-27 15:56:30.189 [com.alibaba.nacos.naming.failover] [] DEBUG com.alibaba.nacos.client.naming - failover switch is not found, failover00-00---000-VIPSRV_FAILOVER_SWITCH-000---00-00
2023-12-27 15:56:30.431 [main] [] DEBUG com.baomidou.mybatisplus.extension.spring.MybatisSqlSessionFactoryBean - Parsed mapper file: 'file [D:\work\project\git\java\spring-cloud-nacos\service-provider-two\target\classes\mapper\DemoProductMapper.xml]'
2023-12-27 15:56:30.745 [main] [] WARN  com.netflix.config.sources.URLConfigurationSource - No URLs will be polled as dynamic configuration sources.
2023-12-27 15:56:30.745 [main] [] INFO  com.netflix.config.sources.URLConfigurationSource - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2023-12-27 15:56:31.029 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 
	c.e.s.c.DemoProductController:
	{POST [/api/demoProduct/addDemoProductList]}: addDemoProductList(DemoProductRequest)
	{GET [/api/demoProduct/getDemoProductList]}: getDemoProductList(DemoProductRequest)
2023-12-27 15:56:31.031 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 
	c.e.s.c.TestController:
	{POST [/test/add]}: add(Student)
	{GET [/test/configName]}: configName(String)
	{GET [/test/helloWorld]}: helloWorld(String)
2023-12-27 15:56:31.032 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2023-12-27 15:56:31.043 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 
	o.s.w.a.OpenApiWebMvcResource:
	{GET [/v3/api-docs], produces [application/json]}: openapiJson(HttpServletRequest,String,Locale)
	{GET [/v3/api-docs.yaml], produces [application/vnd.oai.openapi]}: openapiYaml(HttpServletRequest,String,Locale)
2023-12-27 15:56:31.044 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 
	o.s.w.u.SwaggerWelcomeWebMvc:
	{GET [/swagger-ui.html]}: redirectToUi(HttpServletRequest)
2023-12-27 15:56:31.044 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 
	o.s.w.u.SwaggerConfigResource:
	{GET [/v3/api-docs/swagger-config], produces [application/json]}: openapiJson(HttpServletRequest)
2023-12-27 15:56:31.059 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 'beanNameHandlerMapping' {}
2023-12-27 15:56:31.075 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 'resourceHandlerMapping' {/webjars/**=ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]], /**=ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]], /swagger-ui*/*swagger-initializer.js=ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]], /swagger-ui*/**=ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]}
2023-12-27 15:56:31.122 [main] [] INFO  com.alibaba.nacos.client.naming - initializer namespace from System Property :null
2023-12-27 15:56:31.122 [main] [] INFO  com.alibaba.nacos.client.naming - initializer namespace from System Environment :null
2023-12-27 15:56:31.122 [main] [] INFO  com.alibaba.nacos.client.naming - initializer namespace from System Property :null
2023-12-27 15:56:31.123 [main] [] DEBUG com.alibaba.nacos.client.naming - server list provided by user: [127.0.0.1:8848]
2023-12-27 15:56:31.123 [com.alibaba.nacos.client.naming.updater] [] DEBUG com.alibaba.nacos.client.naming - server list provided by user: [127.0.0.1:8848]
2023-12-27 15:56:31.123 [com.alibaba.nacos.naming.failover] [] DEBUG com.alibaba.nacos.client.naming - failover switch is not found, failover00-00---000-VIPSRV_FAILOVER_SWITCH-000---00-00
2023-12-27 15:56:31.123 [main] [] WARN  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'nacosDiscoveryHealthIndicator' defined in class path resource [com/alibaba/cloud/nacos/endpoint/NacosDiscoveryEndpointAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.actuate.health.HealthIndicator]: Factory method 'nacosDiscoveryHealthIndicator' threw exception; nested exception is java.lang.RuntimeException: ErrCode:-400, ErrMsg:Could not initialize class com.alibaba.nacos.common.notify.NotifyCenter
2023-12-27 15:56:31.127 [main] [] DEBUG reactor.core.publisher.Hooks - Reset onEachOperator: org.springframework.cloud.sleuth.autoconfig.instrument.reactor.TraceReactorAutoConfiguration$TraceReactorConfiguration
2023-12-27 15:56:31.127 [main] [] DEBUG reactor.core.publisher.Hooks - Reset onLastOperator: org.springframework.cloud.sleuth.autoconfig.instrument.reactor.TraceReactorAutoConfiguration$TraceReactorConfiguration
2023-12-27 15:56:41.817 [main] [] INFO  com.alibaba.nacos.client.config.impl.LocalConfigInfoProcessor - LOCAL_SNAPSHOT_PATH:C:\Users\lirui\nacos\config
2023-12-27 15:56:41.828 [main] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/cs/configs?dataId=service-provider-two&group=DEFAULT_GROUP, body: null
2023-12-27 15:56:41.828 [main] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - Execute via interceptors :[com.alibaba.nacos.client.config.impl.ConfigHttpClientManager$LimiterHttpClientRequestInterceptor@6f139fc9]
2023-12-27 15:56:41.839 [main] [] INFO  com.alibaba.nacos.client.config.impl.Limiter - limitTime:5.0
2023-12-27 15:56:41.885 [main] [] WARN  com.alibaba.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[service-provider-two] & group[DEFAULT_GROUP]
2023-12-27 15:56:41.885 [main] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/cs/configs?dataId=service-provider-two.yaml&group=DEFAULT_GROUP, body: null
2023-12-27 15:56:41.885 [main] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - Execute via interceptors :[com.alibaba.nacos.client.config.impl.ConfigHttpClientManager$LimiterHttpClientRequestInterceptor@6f139fc9]
2023-12-27 15:56:41.889 [main] [] WARN  com.alibaba.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[service-provider-two.yaml] & group[DEFAULT_GROUP]
2023-12-27 15:56:41.889 [main] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/cs/configs?dataId=service-provider-two-test.yaml&group=DEFAULT_GROUP, body: null
2023-12-27 15:56:41.889 [main] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - Execute via interceptors :[com.alibaba.nacos.client.config.impl.ConfigHttpClientManager$LimiterHttpClientRequestInterceptor@6f139fc9]
2023-12-27 15:56:41.893 [main] [] INFO  com.alibaba.nacos.client.config.utils.JvmUtil - isMultiInstance:false
2023-12-27 15:56:41.894 [main] [] DEBUG com.alibaba.cloud.nacos.client.NacosPropertySourceBuilder - Loading nacos data, dataId: 'service-provider-two-test.yaml', group: 'DEFAULT_GROUP', data: server:
  port: 8212
spring:
  application:
    name: service-provider-two  #service-provider-one nacos将服务服务注册中心，默认采用应用程序名称。如果两个服务名称一样，网关会采用负载均衡。默认轮训
  cloud:
    nacos:
      discovery:
        server-addr: 127.0.0.1:8848
#        metadata:  #以下是springbootadmin的配置
#          management:
#            context-path: '${server.servlet.context-path}/actuator'
  datasource:
    #mysql
    #具体参见类DynamicDataSourceAspect 说明
    #不用此默认，默认就是写库,多数据源用jdbcUrl，不是url,spring 默认用的是url，用多数据源用url会报错。
    url: jdbc:mysql://127.0.0.1:3306/demo?useUnicode=true&characterEncoding=utf8&useSSL=true&useJDBCCompliantTimezoneShift=true&useLegacyDatetimeCode=false&serverTimezone=UTC&allowMultiQueries=true&rewriteBatchedStatements=true
    driver-class-name: com.mysql.cj.jdbc.Driver
    username: root
    password: 123456

    # HikariCP： springboot2.0 默认的连接池。https://github.com/brettwooldridge/HikariCP
    #HikariCP  高并发性能优。mysql 8h 空闲断开连接可用quartz 调度定期select 1  。
    #产生此问题DB工作就不繁忙，性能要求不高。可以用上面dbcp2的配置，采取空闲查询策略。
    #要引入mybatis
    type: com.zaxxer.hikari.HikariDataSource
    # Hikari will use the above plus the following to setup connection pooling
    hikari:
      minimum-idle: 5
      maximum-pool-size: 100
      auto-commit: true #OrderManagerService 代码异常，spring自动回滚，或者手动回滚。否则正常自动提交
      idle-timeout: 60000
      #pool-name: HikariCP-Demo
      max-lifetime: 1800000
      connection-timeout: 600000
      #connection-test-query: SELECT 1
management:
  endpoints:
    web:
      exposure:
        include: '*'


#mybatis 配置和mybatis-plus不一样，springbootstarter的myabtis 版本要和mybatis-plus封装的mybatis版本保持一直，
#否则项目中同时存在的myabtis 和mybatis0plus因引用的mybatis版本不一致无法共存。
#mybatis:

#配置日志  打印sql语句
#mybatis-plus:
#  configuration:
#    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl

##mybatis 分页 pageHelper插件4.0.0以后的版本支持自动识别使用的数据库
#pagehelper:
#  ##  mysql、sqlserver2012，没找到sqlserver2008版本的
#  helperDialect: sqlserver2012
#  reasonable: true
#  supportMethodsArguments: true
#  params: count=countSql
2023-12-27 15:56:41.897 [main] [] INFO  org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-service-provider-two-test.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-service-provider-two.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-service-provider-two,DEFAULT_GROUP'}]
2023-12-27 15:56:41.921 [main] [] INFO  com.example.serviceprovidertwo.ServiceProviderTwoApplication - The following 1 profile is active: "test"
2023-12-27 15:56:42.438 [main] [] DEBUG com.baomidou.mybatisplus.autoconfigure.MybatisPlusAutoConfiguration - Searching for mappers annotated with @Mapper
2023-12-27 15:56:42.438 [main] [] DEBUG com.baomidou.mybatisplus.autoconfigure.MybatisPlusAutoConfiguration - Using auto-configuration base package 'com.example.serviceprovidertwo'
2023-12-27 15:56:42.757 [main] [] DEBUG org.apache.ibatis.logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2023-12-27 15:56:42.938 [main] [] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=5ecbdd8d-2f36-3d40-934c-4ffd96734233
2023-12-27 15:56:42.977 [main] [] DEBUG reactor.util.Loggers - Using Slf4j logging framework
2023-12-27 15:56:42.978 [main] [] DEBUG reactor.core.publisher.Hooks - Hooking onEachOperator: org.springframework.cloud.sleuth.autoconfig.instrument.reactor.TraceReactorAutoConfiguration$TraceReactorConfiguration
2023-12-27 15:56:42.978 [main] [] DEBUG reactor.core.publisher.Hooks - Hooking onLastOperator: org.springframework.cloud.sleuth.autoconfig.instrument.reactor.TraceReactorAutoConfiguration$TraceReactorConfiguration
2023-12-27 15:56:43.375 [main] [] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8212 (http)
2023-12-27 15:56:43.381 [main] [] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8212"]
2023-12-27 15:56:43.382 [main] [] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2023-12-27 15:56:43.382 [main] [] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2023-12-27 15:56:43.494 [main] [] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-12-27 15:56:43.494 [main] [] INFO  org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1563 ms
2023-12-27 15:56:43.554 [main] [] DEBUG io.micrometer.core.util.internal.logging.InternalLoggerFactory - Using SLF4J as the default logging framework
2023-12-27 15:56:43.633 [main] [] WARN  com.netflix.config.sources.URLConfigurationSource - No URLs will be polled as dynamic configuration sources.
2023-12-27 15:56:43.633 [main] [] INFO  com.netflix.config.sources.URLConfigurationSource - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2023-12-27 15:56:43.635 [main] [] DEBUG com.netflix.hystrix.strategy.HystrixPlugins - Created HystrixDynamicProperties. Using class : com.netflix.hystrix.strategy.properties.archaius.HystrixDynamicPropertiesArchaius
2023-12-27 15:56:43.640 [main] [] INFO  com.netflix.config.DynamicPropertyFactory - DynamicPropertyFactory is initialized with configuration sources: com.netflix.config.ConcurrentCompositeConfiguration@43d6262c
2023-12-27 15:56:45.376 [main] [] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2023-12-27 15:56:45.381 [main] [] INFO  com.alibaba.nacos.client.naming - initializer namespace from System Property :null
2023-12-27 15:56:45.382 [main] [] INFO  com.alibaba.nacos.client.naming - initializer namespace from System Environment :null
2023-12-27 15:56:45.382 [main] [] INFO  com.alibaba.nacos.client.naming - initializer namespace from System Property :null
2023-12-27 15:56:45.387 [com.alibaba.nacos.client.naming.updater] [] DEBUG com.alibaba.nacos.client.naming - server list provided by user: [127.0.0.1:8848]
2023-12-27 15:56:45.387 [main] [] DEBUG com.alibaba.nacos.client.naming - server list provided by user: [127.0.0.1:8848]
2023-12-27 15:56:45.390 [com.alibaba.nacos.naming.failover] [] DEBUG com.alibaba.nacos.client.naming - failover switch is not found, failover00-00---000-VIPSRV_FAILOVER_SWITCH-000---00-00
2023-12-27 15:56:45.780 [main] [] DEBUG com.baomidou.mybatisplus.extension.spring.MybatisSqlSessionFactoryBean - Parsed mapper file: 'file [D:\work\project\git\java\spring-cloud-nacos\service-provider-two\target\classes\mapper\DemoProductMapper.xml]'
2023-12-27 15:56:45.855 [Thread-6] [] WARN  com.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2023-12-27 15:56:45.855 [Thread-26] [] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2023-12-27 15:56:45.855 [Thread-26] [] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2023-12-27 15:56:45.857 [Thread-6] [] WARN  com.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2023-12-27 15:56:46.070 [main] [] WARN  com.netflix.config.sources.URLConfigurationSource - No URLs will be polled as dynamic configuration sources.
2023-12-27 15:56:46.070 [main] [] INFO  com.netflix.config.sources.URLConfigurationSource - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2023-12-27 15:56:46.333 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 
	c.e.s.c.DemoProductController:
	{GET [/api/demoProduct/getDemoProductList]}: getDemoProductList(DemoProductRequest)
	{POST [/api/demoProduct/addDemoProductList]}: addDemoProductList(DemoProductRequest)
2023-12-27 15:56:46.336 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 
	c.e.s.c.TestController:
	{GET [/test/configName]}: configName(String)
	{GET [/test/helloWorld]}: helloWorld(String)
	{POST [/test/add]}: add(Student)
2023-12-27 15:56:46.337 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
	{ [/error]}: error(HttpServletRequest)
2023-12-27 15:56:46.349 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 
	o.s.w.a.OpenApiWebMvcResource:
	{GET [/v3/api-docs], produces [application/json]}: openapiJson(HttpServletRequest,String,Locale)
	{GET [/v3/api-docs.yaml], produces [application/vnd.oai.openapi]}: openapiYaml(HttpServletRequest,String,Locale)
2023-12-27 15:56:46.350 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 
	o.s.w.u.SwaggerWelcomeWebMvc:
	{GET [/swagger-ui.html]}: redirectToUi(HttpServletRequest)
2023-12-27 15:56:46.351 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 
	o.s.w.u.SwaggerConfigResource:
	{GET [/v3/api-docs/swagger-config], produces [application/json]}: openapiJson(HttpServletRequest)
2023-12-27 15:56:46.368 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 'beanNameHandlerMapping' {}
2023-12-27 15:56:46.384 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 'resourceHandlerMapping' {/webjars/**=ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]], /**=ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]], /swagger-ui*/*swagger-initializer.js=ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]], /swagger-ui*/**=ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]}
2023-12-27 15:56:46.436 [main] [] DEBUG com.baomidou.mybatisplus.autoconfigure.MybatisPlusAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2023-12-27 15:56:48.118 [main] [] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2023-12-27 15:56:48.307 [main] [] WARN  org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-12-27 15:56:48.397 [main] [] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 20 endpoint(s) beneath base path '/actuator'
2023-12-27 15:56:48.459 [main] [] DEBUG com.alibaba.nacos.client.naming - failover-mode: false
2023-12-27 15:56:48.461 [main] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/ns/instance/list?app=unknown&healthyOnly=false&namespaceId=public&clientIP=192.168.21.80&serviceName=DEFAULT_GROUP%40%40service-provider-two&udpPort=52615&clusters=DEFAULT, body: {}
2023-12-27 15:56:48.725 [main] [] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8212 (http) with context path ''
2023-12-27 15:56:48.729 [main] [] INFO  com.alibaba.nacos.client.naming - [BEAT] adding beat: BeatInfo{port=8212, ip='172.16.28.1', weight=1.0, serviceName='DEFAULT_GROUP@@service-provider-two', cluster='DEFAULT', metadata={preserved.register.source=SPRING_CLOUD}, scheduled=false, period=5000, stopped=false} to beat map.
2023-12-27 15:56:48.729 [main] [] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service DEFAULT_GROUP@@service-provider-two with instance: Instance{instanceId='null', ip='172.16.28.1', port=8212, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={preserved.register.source=SPRING_CLOUD}}
2023-12-27 15:56:48.730 [main] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: POST, url: http://127.0.0.1:8848/nacos/v1/ns/instance?app=unknown&groupName=DEFAULT_GROUP&metadata=%7B%22preserved.register.source%22%3A%22SPRING_CLOUD%22%7D&namespaceId=public&port=8212&enable=true&healthy=true&clusterName=DEFAULT&ip=172.16.28.1&weight=1.0&ephemeral=true&serviceName=DEFAULT_GROUP%40%40service-provider-two, body: {}
2023-12-27 15:56:48.742 [main] [] INFO  com.alibaba.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP service-provider-two 172.16.28.1:8212 register finished
2023-12-27 15:56:49.198 [com.alibaba.nacos.naming.push.receiver] [] INFO  com.alibaba.nacos.client.naming - received push data: {"type":"dom","data":"{\"name\":\"DEFAULT_GROUP@@service-provider-two\",\"clusters\":\"DEFAULT\",\"cacheMillis\":10000,\"hosts\":[],\"lastRefTime\":1703663809194,\"checksum\":\"\",\"allIPs\":false,\"reachProtectionThreshold\":false,\"valid\":true}","lastRefTime":273018956493399} from /192.168.21.80
2023-12-27 15:56:49.708 [com.alibaba.nacos.client.naming.updater] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/ns/instance/list?app=unknown&healthyOnly=false&namespaceId=public&clientIP=192.168.21.80&serviceName=DEFAULT_GROUP%40%40service-provider-two&udpPort=52615&clusters=DEFAULT, body: {}
2023-12-27 15:56:49.999 [main] [] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2023-12-27 15:56:50.021 [main] [] INFO  com.example.serviceprovidertwo.ServiceProviderTwoApplication - Started ServiceProviderTwoApplication in 11.435 seconds (JVM running for 12.485)
2023-12-27 15:56:50.025 [main] [] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] service-provider-two.yaml+DEFAULT_GROUP
2023-12-27 15:56:50.026 [main] [] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=service-provider-two.yaml, group=DEFAULT_GROUP, cnt=1
2023-12-27 15:56:50.026 [main] [] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] service-provider-two-test.yaml+DEFAULT_GROUP
2023-12-27 15:56:50.026 [main] [] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=service-provider-two-test.yaml, group=DEFAULT_GROUP, cnt=1
2023-12-27 15:56:50.026 [main] [] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] service-provider-two+DEFAULT_GROUP
2023-12-27 15:56:50.026 [main] [] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=service-provider-two, group=DEFAULT_GROUP, cnt=1
2023-12-27 15:56:50.032 [com.alibaba.nacos.client.Worker.longPolling.fixed-127.0.0.1_8848] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - HTTP method: POST, url: http://127.0.0.1:8848/nacos/v1/cs/configs/listener, body: {Listening-Configs=service-provider-two.yamlDEFAULT_GROUPservice-provider-twoDEFAULT_GROUPservice-provider-two-test.yamlDEFAULT_GROUPe19079f3ea7c3e4e3e98766a6fa144d3}
2023-12-27 15:56:50.032 [com.alibaba.nacos.client.Worker.longPolling.fixed-127.0.0.1_8848] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - Execute via interceptors :[com.alibaba.nacos.client.config.impl.ConfigHttpClientManager$LimiterHttpClientRequestInterceptor@6f139fc9]
2023-12-27 15:56:50.034 [com.alibaba.nacos.client.Worker.longPolling.fixed-127.0.0.1_8848] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - HTTP method: POST, url: http://127.0.0.1:8848/nacos/v1/cs/configs/listener, body: {Listening-Configs=service-provider-two.yamlDEFAULT_GROUPservice-provider-twoDEFAULT_GROUPservice-provider-two-test.yamlDEFAULT_GROUPe19079f3ea7c3e4e3e98766a6fa144d3}
2023-12-27 15:56:50.034 [com.alibaba.nacos.client.Worker.longPolling.fixed-127.0.0.1_8848] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - Execute via interceptors :[com.alibaba.nacos.client.config.impl.ConfigHttpClientManager$LimiterHttpClientRequestInterceptor@6f139fc9]
2023-12-27 15:56:50.198 [SpringApplicationShutdownHook] [] INFO  com.alibaba.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2023-12-27 15:56:50.199 [SpringApplicationShutdownHook] [] INFO  com.alibaba.nacos.client.naming - [BEAT] removing beat: DEFAULT_GROUP@@service-provider-two:172.16.28.1:8212 from beat map.
2023-12-27 15:56:50.199 [SpringApplicationShutdownHook] [] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] public deregistering service DEFAULT_GROUP@@service-provider-two with instance: Instance{instanceId='null', ip='172.16.28.1', port=8212, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2023-12-27 15:56:50.199 [SpringApplicationShutdownHook] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: DELETE, url: http://127.0.0.1:8848/nacos/v1/ns/instance?app=unknown&namespaceId=public&port=8212&clusterName=DEFAULT&ip=172.16.28.1&ephemeral=true&serviceName=DEFAULT_GROUP%40%40service-provider-two, body: {}
2023-12-27 15:56:50.205 [SpringApplicationShutdownHook] [] INFO  com.alibaba.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2023-12-27 15:56:50.206 [SpringApplicationShutdownHook] [] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.beat.BeatReactor do shutdown begin
2023-12-27 15:56:50.398 [com.alibaba.nacos.naming.push.receiver] [] INFO  com.alibaba.nacos.client.naming - received push data: {"type":"dom","data":"{\"name\":\"DEFAULT_GROUP@@service-provider-two\",\"clusters\":\"DEFAULT\",\"cacheMillis\":10000,\"hosts\":[{\"instanceId\":\"172.16.28.1#8212#DEFAULT#DEFAULT_GROUP@@service-provider-two\",\"ip\":\"172.16.28.1\",\"port\":8212,\"weight\":1.0,\"healthy\":true,\"enabled\":true,\"ephemeral\":true,\"clusterName\":\"DEFAULT\",\"serviceName\":\"DEFAULT_GROUP@@service-provider-two\",\"metadata\":{\"preserved.register.source\":\"SPRING_CLOUD\"},\"instanceHeartBeatInterval\":5000,\"instanceHeartBeatTimeOut\":15000,\"ipDeleteTimeout\":30000}],\"lastRefTime\":1703663810395,\"checksum\":\"\",\"allIPs\":false,\"reachProtectionThreshold\":false,\"valid\":true}","lastRefTime":273020157891700} from /192.168.21.80
2023-12-27 15:56:50.405 [com.alibaba.nacos.naming.failover] [] DEBUG com.alibaba.nacos.client.naming - failover switch is not found, failover00-00---000-VIPSRV_FAILOVER_SWITCH-000---00-00
2023-12-27 15:56:50.414 [com.alibaba.nacos.naming.push.receiver] [] INFO  com.alibaba.nacos.client.naming - new ips(1) service: DEFAULT_GROUP@@service-provider-two@@DEFAULT -> [{"instanceId":"172.16.28.1#8212#DEFAULT#DEFAULT_GROUP@@service-provider-two","ip":"172.16.28.1","port":8212,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@service-provider-two","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2023-12-27 15:56:50.419 [com.alibaba.nacos.naming.push.receiver] [] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@service-provider-two@@DEFAULT -> [{"instanceId":"172.16.28.1#8212#DEFAULT#DEFAULT_GROUP@@service-provider-two","ip":"172.16.28.1","port":8212,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@service-provider-two","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2023-12-27 15:56:51.723 [com.alibaba.nacos.client.naming.updater] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/ns/instance/list?app=unknown&healthyOnly=false&namespaceId=public&clientIP=192.168.21.80&serviceName=DEFAULT_GROUP%40%40service-provider-two&udpPort=52615&clusters=DEFAULT, body: {}
2023-12-27 15:56:51.805 [com.alibaba.nacos.naming.push.receiver] [] INFO  com.alibaba.nacos.client.naming - received push data: {"type":"dom","data":"{\"name\":\"DEFAULT_GROUP@@service-provider-two\",\"clusters\":\"DEFAULT\",\"cacheMillis\":10000,\"hosts\":[],\"lastRefTime\":1703663811801,\"checksum\":\"\",\"allIPs\":false,\"reachProtectionThreshold\":false,\"valid\":true}","lastRefTime":273021564310900} from /192.168.21.80
2023-12-27 15:56:51.806 [com.alibaba.nacos.naming.push.receiver] [] INFO  com.alibaba.nacos.client.naming - removed ips(1) service: DEFAULT_GROUP@@service-provider-two@@DEFAULT -> [{"instanceId":"172.16.28.1#8212#DEFAULT#DEFAULT_GROUP@@service-provider-two","ip":"172.16.28.1","port":8212,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@service-provider-two","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2023-12-27 15:56:51.807 [com.alibaba.nacos.naming.push.receiver] [] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@service-provider-two@@DEFAULT -> []
2023-12-27 15:56:53.224 [SpringApplicationShutdownHook] [] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.beat.BeatReactor do shutdown stop
2023-12-27 15:56:53.225 [SpringApplicationShutdownHook] [] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.HostReactor do shutdown begin
2023-12-27 15:56:55.406 [com.alibaba.nacos.naming.failover] [] DEBUG com.alibaba.nacos.client.naming - failover switch is not found, failover00-00---000-VIPSRV_FAILOVER_SWITCH-000---00-00
2023-12-27 15:56:56.264 [SpringApplicationShutdownHook] [] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.PushReceiver do shutdown begin
2023-12-27 15:56:59.286 [SpringApplicationShutdownHook] [] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.PushReceiver do shutdown stop
2023-12-27 15:56:59.286 [SpringApplicationShutdownHook] [] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2023-12-27 15:56:59.286 [SpringApplicationShutdownHook] [] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2023-12-27 15:56:59.286 [SpringApplicationShutdownHook] [] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.HostReactor do shutdown stop
2023-12-27 15:56:59.286 [SpringApplicationShutdownHook] [] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.net.NamingProxy do shutdown begin
2023-12-27 15:56:59.286 [SpringApplicationShutdownHook] [] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2023-12-27 15:56:59.287 [SpringApplicationShutdownHook] [] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2023-12-27 15:56:59.287 [SpringApplicationShutdownHook] [] INFO  com.alibaba.nacos.client.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2023-12-27 15:56:59.287 [SpringApplicationShutdownHook] [] INFO  com.alibaba.nacos.client.identify.CredentialService - [null] CredentialService is freed
2023-12-27 15:56:59.287 [SpringApplicationShutdownHook] [] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.net.NamingProxy do shutdown stop
2023-12-27 15:56:59.288 [SpringApplicationShutdownHook] [] WARN  org.springframework.beans.factory.support.DisposableBeanAdapter - Custom destroy method 'close' on bean with name 'nacosServiceRegistry' threw an exception: java.lang.NullPointerException
2023-12-27 15:56:59.292 [SpringApplicationShutdownHook] [] DEBUG reactor.core.publisher.Hooks - Reset onEachOperator: org.springframework.cloud.sleuth.autoconfig.instrument.reactor.TraceReactorAutoConfiguration$TraceReactorConfiguration
2023-12-27 15:56:59.292 [SpringApplicationShutdownHook] [] DEBUG reactor.core.publisher.Hooks - Reset onLastOperator: org.springframework.cloud.sleuth.autoconfig.instrument.reactor.TraceReactorAutoConfiguration$TraceReactorConfiguration
2023-12-27 15:58:47.656 [main] [] INFO  com.alibaba.nacos.client.config.impl.LocalConfigInfoProcessor - LOCAL_SNAPSHOT_PATH:C:\Users\lirui\nacos\config
2023-12-27 15:58:47.666 [main] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/cs/configs?dataId=service-provider-two&group=DEFAULT_GROUP, body: null
2023-12-27 15:58:47.667 [main] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - Execute via interceptors :[com.alibaba.nacos.client.config.impl.ConfigHttpClientManager$LimiterHttpClientRequestInterceptor@6b8280e6]
2023-12-27 15:58:47.677 [main] [] INFO  com.alibaba.nacos.client.config.impl.Limiter - limitTime:5.0
2023-12-27 15:58:47.699 [main] [] WARN  com.alibaba.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[service-provider-two] & group[DEFAULT_GROUP]
2023-12-27 15:58:47.700 [main] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/cs/configs?dataId=service-provider-two.yaml&group=DEFAULT_GROUP, body: null
2023-12-27 15:58:47.700 [main] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - Execute via interceptors :[com.alibaba.nacos.client.config.impl.ConfigHttpClientManager$LimiterHttpClientRequestInterceptor@6b8280e6]
2023-12-27 15:58:47.704 [main] [] WARN  com.alibaba.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[service-provider-two.yaml] & group[DEFAULT_GROUP]
2023-12-27 15:58:47.704 [main] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/cs/configs?dataId=service-provider-two-test.yaml&group=DEFAULT_GROUP, body: null
2023-12-27 15:58:47.704 [main] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - Execute via interceptors :[com.alibaba.nacos.client.config.impl.ConfigHttpClientManager$LimiterHttpClientRequestInterceptor@6b8280e6]
2023-12-27 15:58:47.707 [main] [] INFO  com.alibaba.nacos.client.config.utils.JvmUtil - isMultiInstance:false
2023-12-27 15:58:47.708 [main] [] DEBUG com.alibaba.cloud.nacos.client.NacosPropertySourceBuilder - Loading nacos data, dataId: 'service-provider-two-test.yaml', group: 'DEFAULT_GROUP', data: server:
  port: 8212
spring:
  application:
    name: service-provider-two  #service-provider-one nacos将服务服务注册中心，默认采用应用程序名称。如果两个服务名称一样，网关会采用负载均衡。默认轮训
  cloud:
    nacos:
      discovery:
        server-addr: 127.0.0.1:8848
#        metadata:  #以下是springbootadmin的配置
#          management:
#            context-path: '${server.servlet.context-path}/actuator'
  datasource:
    #mysql
    #具体参见类DynamicDataSourceAspect 说明
    #不用此默认，默认就是写库,多数据源用jdbcUrl，不是url,spring 默认用的是url，用多数据源用url会报错。
    url: jdbc:mysql://127.0.0.1:3306/demo?useUnicode=true&characterEncoding=utf8&useSSL=true&useJDBCCompliantTimezoneShift=true&useLegacyDatetimeCode=false&serverTimezone=UTC&allowMultiQueries=true&rewriteBatchedStatements=true
    driver-class-name: com.mysql.cj.jdbc.Driver
    username: root
    password: 123456

    # HikariCP： springboot2.0 默认的连接池。https://github.com/brettwooldridge/HikariCP
    #HikariCP  高并发性能优。mysql 8h 空闲断开连接可用quartz 调度定期select 1  。
    #产生此问题DB工作就不繁忙，性能要求不高。可以用上面dbcp2的配置，采取空闲查询策略。
    #要引入mybatis
    type: com.zaxxer.hikari.HikariDataSource
    # Hikari will use the above plus the following to setup connection pooling
    hikari:
      minimum-idle: 5
      maximum-pool-size: 100
      auto-commit: true #OrderManagerService 代码异常，spring自动回滚，或者手动回滚。否则正常自动提交
      idle-timeout: 60000
      #pool-name: HikariCP-Demo
      max-lifetime: 1800000
      connection-timeout: 600000
      #connection-test-query: SELECT 1
management:
  endpoints:
    web:
      exposure:
        include: '*'


#mybatis 配置和mybatis-plus不一样，springbootstarter的myabtis 版本要和mybatis-plus封装的mybatis版本保持一直，
#否则项目中同时存在的myabtis 和mybatis0plus因引用的mybatis版本不一致无法共存。
#mybatis:

#配置日志  打印sql语句
#mybatis-plus:
#  configuration:
#    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl

##mybatis 分页 pageHelper插件4.0.0以后的版本支持自动识别使用的数据库
#pagehelper:
#  ##  mysql、sqlserver2012，没找到sqlserver2008版本的
#  helperDialect: sqlserver2012
#  reasonable: true
#  supportMethodsArguments: true
#  params: count=countSql
2023-12-27 15:58:47.713 [main] [] INFO  org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-service-provider-two-test.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-service-provider-two.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-service-provider-two,DEFAULT_GROUP'}]
2023-12-27 15:58:47.737 [main] [] INFO  com.example.serviceprovidertwo.ServiceProviderTwoApplication - The following 1 profile is active: "test"
2023-12-27 15:58:48.247 [main] [] DEBUG com.baomidou.mybatisplus.autoconfigure.MybatisPlusAutoConfiguration - Searching for mappers annotated with @Mapper
2023-12-27 15:58:48.247 [main] [] DEBUG com.baomidou.mybatisplus.autoconfigure.MybatisPlusAutoConfiguration - Using auto-configuration base package 'com.example.serviceprovidertwo'
2023-12-27 15:58:48.555 [main] [] DEBUG org.apache.ibatis.logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2023-12-27 15:58:48.737 [main] [] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=5ecbdd8d-2f36-3d40-934c-4ffd96734233
2023-12-27 15:58:48.780 [main] [] DEBUG reactor.util.Loggers - Using Slf4j logging framework
2023-12-27 15:58:48.781 [main] [] DEBUG reactor.core.publisher.Hooks - Hooking onEachOperator: org.springframework.cloud.sleuth.autoconfig.instrument.reactor.TraceReactorAutoConfiguration$TraceReactorConfiguration
2023-12-27 15:58:48.781 [main] [] DEBUG reactor.core.publisher.Hooks - Hooking onLastOperator: org.springframework.cloud.sleuth.autoconfig.instrument.reactor.TraceReactorAutoConfiguration$TraceReactorConfiguration
2023-12-27 15:58:49.177 [main] [] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8212 (http)
2023-12-27 15:58:49.183 [main] [] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8212"]
2023-12-27 15:58:49.183 [main] [] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2023-12-27 15:58:49.184 [main] [] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2023-12-27 15:58:49.299 [main] [] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-12-27 15:58:49.299 [main] [] INFO  org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1552 ms
2023-12-27 15:58:49.361 [main] [] DEBUG io.micrometer.core.util.internal.logging.InternalLoggerFactory - Using SLF4J as the default logging framework
2023-12-27 15:58:49.448 [main] [] WARN  com.netflix.config.sources.URLConfigurationSource - No URLs will be polled as dynamic configuration sources.
2023-12-27 15:58:49.448 [main] [] INFO  com.netflix.config.sources.URLConfigurationSource - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2023-12-27 15:58:49.451 [main] [] DEBUG com.netflix.hystrix.strategy.HystrixPlugins - Created HystrixDynamicProperties. Using class : com.netflix.hystrix.strategy.properties.archaius.HystrixDynamicPropertiesArchaius
2023-12-27 15:58:49.456 [main] [] INFO  com.netflix.config.DynamicPropertyFactory - DynamicPropertyFactory is initialized with configuration sources: com.netflix.config.ConcurrentCompositeConfiguration@43d6262c
2023-12-27 15:58:49.922 [Thread-6] [] WARN  com.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2023-12-27 15:58:49.923 [Thread-6] [] WARN  com.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2023-12-27 15:58:51.261 [main] [] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2023-12-27 15:58:51.266 [main] [] INFO  com.alibaba.nacos.client.naming - initializer namespace from System Property :null
2023-12-27 15:58:51.266 [main] [] INFO  com.alibaba.nacos.client.naming - initializer namespace from System Environment :null
2023-12-27 15:58:51.267 [main] [] INFO  com.alibaba.nacos.client.naming - initializer namespace from System Property :null
2023-12-27 15:58:51.271 [com.alibaba.nacos.client.naming.updater] [] DEBUG com.alibaba.nacos.client.naming - server list provided by user: [127.0.0.1:8848]
2023-12-27 15:58:51.271 [main] [] DEBUG com.alibaba.nacos.client.naming - server list provided by user: [127.0.0.1:8848]
2023-12-27 15:58:51.275 [com.alibaba.nacos.naming.failover] [] DEBUG com.alibaba.nacos.client.naming - failover switch is not found, failover00-00---000-VIPSRV_FAILOVER_SWITCH-000---00-00
2023-12-27 15:58:51.471 [main] [] DEBUG com.baomidou.mybatisplus.extension.spring.MybatisSqlSessionFactoryBean - Parsed mapper file: 'file [D:\work\project\git\java\spring-cloud-nacos\service-provider-two\target\classes\mapper\DemoProductMapper.xml]'
2023-12-27 15:58:51.772 [main] [] WARN  com.netflix.config.sources.URLConfigurationSource - No URLs will be polled as dynamic configuration sources.
2023-12-27 15:58:51.772 [main] [] INFO  com.netflix.config.sources.URLConfigurationSource - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2023-12-27 15:58:52.028 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 
	c.e.s.c.DemoProductController:
	{GET [/api/demoProduct/getDemoProductList]}: getDemoProductList(DemoProductRequest)
	{POST [/api/demoProduct/addDemoProductList]}: addDemoProductList(DemoProductRequest)
2023-12-27 15:58:52.030 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 
	c.e.s.c.TestController:
	{GET [/test/configName]}: configName(String)
	{GET [/test/helloWorld]}: helloWorld(String)
	{POST [/test/add]}: add(Student)
2023-12-27 15:58:52.031 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
	{ [/error]}: error(HttpServletRequest)
2023-12-27 15:58:52.043 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 
	o.s.w.a.OpenApiWebMvcResource:
	{GET [/v3/api-docs], produces [application/json]}: openapiJson(HttpServletRequest,String,Locale)
	{GET [/v3/api-docs.yaml], produces [application/vnd.oai.openapi]}: openapiYaml(HttpServletRequest,String,Locale)
2023-12-27 15:58:52.044 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 
	o.s.w.u.SwaggerWelcomeWebMvc:
	{GET [/swagger-ui.html]}: redirectToUi(HttpServletRequest)
2023-12-27 15:58:52.045 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 
	o.s.w.u.SwaggerConfigResource:
	{GET [/v3/api-docs/swagger-config], produces [application/json]}: openapiJson(HttpServletRequest)
2023-12-27 15:58:52.060 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 'beanNameHandlerMapping' {}
2023-12-27 15:58:52.074 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 'resourceHandlerMapping' {/webjars/**=ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]], /**=ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]], /swagger-ui*/*swagger-initializer.js=ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]], /swagger-ui*/**=ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]}
2023-12-27 15:58:52.117 [main] [] INFO  com.alibaba.nacos.client.naming - initializer namespace from System Property :null
2023-12-27 15:58:52.117 [main] [] INFO  com.alibaba.nacos.client.naming - initializer namespace from System Environment :null
2023-12-27 15:58:52.117 [main] [] INFO  com.alibaba.nacos.client.naming - initializer namespace from System Property :null
2023-12-27 15:58:52.118 [main] [] DEBUG com.alibaba.nacos.client.naming - server list provided by user: [127.0.0.1:8848]
2023-12-27 15:58:52.118 [com.alibaba.nacos.client.naming.updater] [] DEBUG com.alibaba.nacos.client.naming - server list provided by user: [127.0.0.1:8848]
2023-12-27 15:58:52.118 [com.alibaba.nacos.naming.failover] [] DEBUG com.alibaba.nacos.client.naming - failover switch is not found, failover00-00---000-VIPSRV_FAILOVER_SWITCH-000---00-00
2023-12-27 15:58:52.118 [main] [] WARN  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'nacosDiscoveryHealthIndicator' defined in class path resource [com/alibaba/cloud/nacos/endpoint/NacosDiscoveryEndpointAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.actuate.health.HealthIndicator]: Factory method 'nacosDiscoveryHealthIndicator' threw exception; nested exception is java.lang.RuntimeException: ErrCode:-400, ErrMsg:Could not initialize class com.alibaba.nacos.common.notify.NotifyCenter
2023-12-27 15:58:52.121 [main] [] DEBUG reactor.core.publisher.Hooks - Reset onEachOperator: org.springframework.cloud.sleuth.autoconfig.instrument.reactor.TraceReactorAutoConfiguration$TraceReactorConfiguration
2023-12-27 15:58:52.121 [main] [] DEBUG reactor.core.publisher.Hooks - Reset onLastOperator: org.springframework.cloud.sleuth.autoconfig.instrument.reactor.TraceReactorAutoConfiguration$TraceReactorConfiguration
2023-12-27 16:00:24.704 [main] [] INFO  com.alibaba.nacos.client.config.impl.LocalConfigInfoProcessor - LOCAL_SNAPSHOT_PATH:C:\Users\lirui\nacos\config
2023-12-27 16:00:24.715 [main] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/cs/configs?dataId=service-provider-two&group=DEFAULT_GROUP, body: null
2023-12-27 16:00:24.716 [main] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - Execute via interceptors :[com.alibaba.nacos.client.config.impl.ConfigHttpClientManager$LimiterHttpClientRequestInterceptor@47b67fcb]
2023-12-27 16:00:24.727 [main] [] INFO  com.alibaba.nacos.client.config.impl.Limiter - limitTime:5.0
2023-12-27 16:00:24.751 [main] [] WARN  com.alibaba.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[service-provider-two] & group[DEFAULT_GROUP]
2023-12-27 16:00:24.751 [main] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/cs/configs?dataId=service-provider-two.yaml&group=DEFAULT_GROUP, body: null
2023-12-27 16:00:24.751 [main] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - Execute via interceptors :[com.alibaba.nacos.client.config.impl.ConfigHttpClientManager$LimiterHttpClientRequestInterceptor@47b67fcb]
2023-12-27 16:00:24.754 [main] [] WARN  com.alibaba.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[service-provider-two.yaml] & group[DEFAULT_GROUP]
2023-12-27 16:00:24.754 [main] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/cs/configs?dataId=service-provider-two-test.yaml&group=DEFAULT_GROUP, body: null
2023-12-27 16:00:24.755 [main] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - Execute via interceptors :[com.alibaba.nacos.client.config.impl.ConfigHttpClientManager$LimiterHttpClientRequestInterceptor@47b67fcb]
2023-12-27 16:00:24.758 [main] [] INFO  com.alibaba.nacos.client.config.utils.JvmUtil - isMultiInstance:false
2023-12-27 16:00:24.759 [main] [] DEBUG com.alibaba.cloud.nacos.client.NacosPropertySourceBuilder - Loading nacos data, dataId: 'service-provider-two-test.yaml', group: 'DEFAULT_GROUP', data: server:
  port: 8212
spring:
  application:
    name: service-provider-two  #service-provider-one nacos将服务服务注册中心，默认采用应用程序名称。如果两个服务名称一样，网关会采用负载均衡。默认轮训
  cloud:
    nacos:
      discovery:
        server-addr: 127.0.0.1:8848
#        metadata:  #以下是springbootadmin的配置
#          management:
#            context-path: '${server.servlet.context-path}/actuator'
  datasource:
    #mysql
    #具体参见类DynamicDataSourceAspect 说明
    #不用此默认，默认就是写库,多数据源用jdbcUrl，不是url,spring 默认用的是url，用多数据源用url会报错。
    url: jdbc:mysql://127.0.0.1:3306/demo?useUnicode=true&characterEncoding=utf8&useSSL=true&useJDBCCompliantTimezoneShift=true&useLegacyDatetimeCode=false&serverTimezone=UTC&allowMultiQueries=true&rewriteBatchedStatements=true
    driver-class-name: com.mysql.cj.jdbc.Driver
    username: root
    password: 123456

    # HikariCP： springboot2.0 默认的连接池。https://github.com/brettwooldridge/HikariCP
    #HikariCP  高并发性能优。mysql 8h 空闲断开连接可用quartz 调度定期select 1  。
    #产生此问题DB工作就不繁忙，性能要求不高。可以用上面dbcp2的配置，采取空闲查询策略。
    #要引入mybatis
    type: com.zaxxer.hikari.HikariDataSource
    # Hikari will use the above plus the following to setup connection pooling
    hikari:
      minimum-idle: 5
      maximum-pool-size: 100
      auto-commit: true #OrderManagerService 代码异常，spring自动回滚，或者手动回滚。否则正常自动提交
      idle-timeout: 60000
      #pool-name: HikariCP-Demo
      max-lifetime: 1800000
      connection-timeout: 600000
      #connection-test-query: SELECT 1
management:
  endpoints:
    web:
      exposure:
        include: '*'


#mybatis 配置和mybatis-plus不一样，springbootstarter的myabtis 版本要和mybatis-plus封装的mybatis版本保持一直，
#否则项目中同时存在的myabtis 和mybatis0plus因引用的mybatis版本不一致无法共存。
#mybatis:

#配置日志  打印sql语句
#mybatis-plus:
#  configuration:
#    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl

##mybatis 分页 pageHelper插件4.0.0以后的版本支持自动识别使用的数据库
#pagehelper:
#  ##  mysql、sqlserver2012，没找到sqlserver2008版本的
#  helperDialect: sqlserver2012
#  reasonable: true
#  supportMethodsArguments: true
#  params: count=countSql
2023-12-27 16:00:24.762 [main] [] INFO  org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-service-provider-two-test.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-service-provider-two.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-service-provider-two,DEFAULT_GROUP'}]
2023-12-27 16:00:24.784 [main] [] INFO  com.example.serviceprovidertwo.ServiceProviderTwoApplication - The following 1 profile is active: "test"
2023-12-27 16:00:25.291 [main] [] DEBUG com.baomidou.mybatisplus.autoconfigure.MybatisPlusAutoConfiguration - Searching for mappers annotated with @Mapper
2023-12-27 16:00:25.291 [main] [] DEBUG com.baomidou.mybatisplus.autoconfigure.MybatisPlusAutoConfiguration - Using auto-configuration base package 'com.example.serviceprovidertwo'
2023-12-27 16:00:25.585 [main] [] DEBUG org.apache.ibatis.logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2023-12-27 16:00:25.755 [main] [] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=5ecbdd8d-2f36-3d40-934c-4ffd96734233
2023-12-27 16:00:25.792 [main] [] DEBUG reactor.util.Loggers - Using Slf4j logging framework
2023-12-27 16:00:25.793 [main] [] DEBUG reactor.core.publisher.Hooks - Hooking onEachOperator: org.springframework.cloud.sleuth.autoconfig.instrument.reactor.TraceReactorAutoConfiguration$TraceReactorConfiguration
2023-12-27 16:00:25.793 [main] [] DEBUG reactor.core.publisher.Hooks - Hooking onLastOperator: org.springframework.cloud.sleuth.autoconfig.instrument.reactor.TraceReactorAutoConfiguration$TraceReactorConfiguration
2023-12-27 16:00:26.187 [main] [] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8212 (http)
2023-12-27 16:00:26.193 [main] [] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8212"]
2023-12-27 16:00:26.193 [main] [] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2023-12-27 16:00:26.194 [main] [] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2023-12-27 16:00:26.310 [main] [] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-12-27 16:00:26.310 [main] [] INFO  org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1516 ms
2023-12-27 16:00:26.360 [main] [] DEBUG io.micrometer.core.util.internal.logging.InternalLoggerFactory - Using SLF4J as the default logging framework
2023-12-27 16:00:26.461 [main] [] WARN  com.netflix.config.sources.URLConfigurationSource - No URLs will be polled as dynamic configuration sources.
2023-12-27 16:00:26.461 [main] [] INFO  com.netflix.config.sources.URLConfigurationSource - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2023-12-27 16:00:26.464 [main] [] DEBUG com.netflix.hystrix.strategy.HystrixPlugins - Created HystrixDynamicProperties. Using class : com.netflix.hystrix.strategy.properties.archaius.HystrixDynamicPropertiesArchaius
2023-12-27 16:00:26.468 [main] [] INFO  com.netflix.config.DynamicPropertyFactory - DynamicPropertyFactory is initialized with configuration sources: com.netflix.config.ConcurrentCompositeConfiguration@299eca90
2023-12-27 16:00:28.251 [main] [] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2023-12-27 16:00:28.258 [main] [] INFO  com.alibaba.nacos.client.naming - initializer namespace from System Property :null
2023-12-27 16:00:28.259 [main] [] INFO  com.alibaba.nacos.client.naming - initializer namespace from System Environment :null
2023-12-27 16:00:28.259 [main] [] INFO  com.alibaba.nacos.client.naming - initializer namespace from System Property :null
2023-12-27 16:00:28.265 [com.alibaba.nacos.client.naming.updater] [] DEBUG com.alibaba.nacos.client.naming - server list provided by user: [127.0.0.1:8848]
2023-12-27 16:00:28.265 [main] [] DEBUG com.alibaba.nacos.client.naming - server list provided by user: [127.0.0.1:8848]
2023-12-27 16:00:28.268 [com.alibaba.nacos.naming.failover] [] DEBUG com.alibaba.nacos.client.naming - failover switch is not found, failover00-00---000-VIPSRV_FAILOVER_SWITCH-000---00-00
2023-12-27 16:00:28.598 [main] [] DEBUG com.baomidou.mybatisplus.extension.spring.MybatisSqlSessionFactoryBean - Parsed mapper file: 'file [D:\work\project\git\java\spring-cloud-nacos\service-provider-two\target\classes\mapper\DemoProductMapper.xml]'
2023-12-27 16:00:28.883 [main] [] WARN  com.netflix.config.sources.URLConfigurationSource - No URLs will be polled as dynamic configuration sources.
2023-12-27 16:00:28.883 [main] [] INFO  com.netflix.config.sources.URLConfigurationSource - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2023-12-27 16:00:29.139 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 
	c.e.s.c.DemoProductController:
	{POST [/api/demoProduct/addDemoProductList]}: addDemoProductList(DemoProductRequest)
	{GET [/api/demoProduct/getDemoProductList]}: getDemoProductList(DemoProductRequest)
2023-12-27 16:00:29.142 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 
	c.e.s.c.TestController:
	{POST [/test/add]}: add(Student)
	{GET [/test/configName]}: configName(String)
	{GET [/test/helloWorld]}: helloWorld(String)
2023-12-27 16:00:29.143 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2023-12-27 16:00:29.154 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 
	o.s.w.a.OpenApiWebMvcResource:
	{GET [/v3/api-docs.yaml], produces [application/vnd.oai.openapi]}: openapiYaml(HttpServletRequest,String,Locale)
	{GET [/v3/api-docs], produces [application/json]}: openapiJson(HttpServletRequest,String,Locale)
2023-12-27 16:00:29.155 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 
	o.s.w.u.SwaggerWelcomeWebMvc:
	{GET [/swagger-ui.html]}: redirectToUi(HttpServletRequest)
2023-12-27 16:00:29.156 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 
	o.s.w.u.SwaggerConfigResource:
	{GET [/v3/api-docs/swagger-config], produces [application/json]}: openapiJson(HttpServletRequest)
2023-12-27 16:00:29.171 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 'beanNameHandlerMapping' {}
2023-12-27 16:00:29.187 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 'resourceHandlerMapping' {/webjars/**=ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]], /**=ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]], /swagger-ui*/*swagger-initializer.js=ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]], /swagger-ui*/**=ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]}
2023-12-27 16:00:29.236 [main] [] DEBUG com.baomidou.mybatisplus.autoconfigure.MybatisPlusAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2023-12-27 16:00:30.958 [main] [] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2023-12-27 16:00:31.119 [main] [] WARN  org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-12-27 16:00:31.204 [main] [] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 20 endpoint(s) beneath base path '/actuator'
2023-12-27 16:00:31.267 [main] [] DEBUG com.alibaba.nacos.client.naming - failover-mode: false
2023-12-27 16:00:31.268 [main] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/ns/instance/list?app=unknown&healthyOnly=false&namespaceId=public&clientIP=192.168.21.80&serviceName=DEFAULT_GROUP%40%40service-provider-two&udpPort=59313&clusters=DEFAULT, body: {}
2023-12-27 16:00:31.525 [main] [] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8212"]
2023-12-27 16:00:31.537 [main] [] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8212 (http) with context path ''
2023-12-27 16:00:31.541 [main] [] INFO  com.alibaba.nacos.client.naming - [BEAT] adding beat: BeatInfo{port=8212, ip='172.16.28.1', weight=1.0, serviceName='DEFAULT_GROUP@@service-provider-two', cluster='DEFAULT', metadata={preserved.register.source=SPRING_CLOUD}, scheduled=false, period=5000, stopped=false} to beat map.
2023-12-27 16:00:31.541 [main] [] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service DEFAULT_GROUP@@service-provider-two with instance: Instance{instanceId='null', ip='172.16.28.1', port=8212, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={preserved.register.source=SPRING_CLOUD}}
2023-12-27 16:00:31.543 [main] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: POST, url: http://127.0.0.1:8848/nacos/v1/ns/instance?app=unknown&groupName=DEFAULT_GROUP&metadata=%7B%22preserved.register.source%22%3A%22SPRING_CLOUD%22%7D&namespaceId=public&port=8212&enable=true&healthy=true&clusterName=DEFAULT&ip=172.16.28.1&weight=1.0&ephemeral=true&serviceName=DEFAULT_GROUP%40%40service-provider-two, body: {}
2023-12-27 16:00:31.558 [main] [] INFO  com.alibaba.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP service-provider-two 172.16.28.1:8212 register finished
2023-12-27 16:00:32.020 [com.alibaba.nacos.naming.push.receiver] [] INFO  com.alibaba.nacos.client.naming - received push data: {"type":"dom","data":"{\"name\":\"DEFAULT_GROUP@@service-provider-two\",\"clusters\":\"DEFAULT\",\"cacheMillis\":10000,\"hosts\":[],\"lastRefTime\":1703664032017,\"checksum\":\"\",\"allIPs\":false,\"reachProtectionThreshold\":false,\"valid\":true}","lastRefTime":273241779856199} from /192.168.21.80
2023-12-27 16:00:32.527 [com.alibaba.nacos.client.naming.updater] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/ns/instance/list?app=unknown&healthyOnly=false&namespaceId=public&clientIP=192.168.21.80&serviceName=DEFAULT_GROUP%40%40service-provider-two&udpPort=59313&clusters=DEFAULT, body: {}
2023-12-27 16:00:32.807 [main] [] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2023-12-27 16:00:32.826 [main] [] INFO  com.example.serviceprovidertwo.ServiceProviderTwoApplication - Started ServiceProviderTwoApplication in 11.34 seconds (JVM running for 12.852)
2023-12-27 16:00:32.833 [main] [] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] service-provider-two.yaml+DEFAULT_GROUP
2023-12-27 16:00:32.834 [main] [] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=service-provider-two.yaml, group=DEFAULT_GROUP, cnt=1
2023-12-27 16:00:32.834 [main] [] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] service-provider-two-test.yaml+DEFAULT_GROUP
2023-12-27 16:00:32.834 [main] [] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=service-provider-two-test.yaml, group=DEFAULT_GROUP, cnt=1
2023-12-27 16:00:32.835 [main] [] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] service-provider-two+DEFAULT_GROUP
2023-12-27 16:00:32.835 [main] [] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=service-provider-two, group=DEFAULT_GROUP, cnt=1
2023-12-27 16:00:32.840 [com.alibaba.nacos.client.Worker.longPolling.fixed-127.0.0.1_8848] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - HTTP method: POST, url: http://127.0.0.1:8848/nacos/v1/cs/configs/listener, body: {Listening-Configs=service-provider-two.yamlDEFAULT_GROUPservice-provider-twoDEFAULT_GROUPservice-provider-two-test.yamlDEFAULT_GROUPe19079f3ea7c3e4e3e98766a6fa144d3}
2023-12-27 16:00:32.840 [com.alibaba.nacos.client.Worker.longPolling.fixed-127.0.0.1_8848] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - Execute via interceptors :[com.alibaba.nacos.client.config.impl.ConfigHttpClientManager$LimiterHttpClientRequestInterceptor@47b67fcb]
2023-12-27 16:00:32.842 [com.alibaba.nacos.client.Worker.longPolling.fixed-127.0.0.1_8848] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - HTTP method: POST, url: http://127.0.0.1:8848/nacos/v1/cs/configs/listener, body: {Listening-Configs=service-provider-two.yamlDEFAULT_GROUPservice-provider-twoDEFAULT_GROUPservice-provider-two-test.yamlDEFAULT_GROUPe19079f3ea7c3e4e3e98766a6fa144d3}
2023-12-27 16:00:32.842 [com.alibaba.nacos.client.Worker.longPolling.fixed-127.0.0.1_8848] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - Execute via interceptors :[com.alibaba.nacos.client.config.impl.ConfigHttpClientManager$LimiterHttpClientRequestInterceptor@47b67fcb]
2023-12-27 16:00:33.106 [com.alibaba.nacos.naming.push.receiver] [] INFO  com.alibaba.nacos.client.naming - received push data: {"type":"dom","data":"{\"name\":\"DEFAULT_GROUP@@service-provider-two\",\"clusters\":\"DEFAULT\",\"cacheMillis\":10000,\"hosts\":[{\"instanceId\":\"172.16.28.1#8212#DEFAULT#DEFAULT_GROUP@@service-provider-two\",\"ip\":\"172.16.28.1\",\"port\":8212,\"weight\":1.0,\"healthy\":true,\"enabled\":true,\"ephemeral\":true,\"clusterName\":\"DEFAULT\",\"serviceName\":\"DEFAULT_GROUP@@service-provider-two\",\"metadata\":{\"preserved.register.source\":\"SPRING_CLOUD\"},\"instanceHeartBeatInterval\":5000,\"instanceHeartBeatTimeOut\":15000,\"ipDeleteTimeout\":30000}],\"lastRefTime\":1703664033104,\"checksum\":\"\",\"allIPs\":false,\"reachProtectionThreshold\":false,\"valid\":true}","lastRefTime":273242866894499} from /192.168.21.80
2023-12-27 16:00:33.118 [com.alibaba.nacos.naming.push.receiver] [] INFO  com.alibaba.nacos.client.naming - new ips(1) service: DEFAULT_GROUP@@service-provider-two@@DEFAULT -> [{"instanceId":"172.16.28.1#8212#DEFAULT#DEFAULT_GROUP@@service-provider-two","ip":"172.16.28.1","port":8212,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@service-provider-two","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2023-12-27 16:00:33.118 [nacos.publisher-com.alibaba.nacos.client.naming.event.InstancesChangeEvent] [] DEBUG com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] the com.alibaba.nacos.client.naming.event.InstancesChangeEvent@3bce0c95 will received by com.alibaba.nacos.client.naming.event.InstancesChangeNotifier@3dd66ff5
2023-12-27 16:00:33.122 [com.alibaba.nacos.naming.push.receiver] [] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@service-provider-two@@DEFAULT -> [{"instanceId":"172.16.28.1#8212#DEFAULT#DEFAULT_GROUP@@service-provider-two","ip":"172.16.28.1","port":8212,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@service-provider-two","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2023-12-27 16:00:33.277 [com.alibaba.nacos.naming.failover] [] DEBUG com.alibaba.nacos.client.naming - failover switch is not found, failover00-00---000-VIPSRV_FAILOVER_SWITCH-000---00-00
2023-12-27 16:00:33.432 [RMI TCP Connection(5)-192.168.21.80] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/ns/operator/metrics?app=unknown&namespaceId=public, body: {}
2023-12-27 16:00:33.435 [RMI TCP Connection(4)-192.168.21.80] [] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-12-27 16:00:33.435 [RMI TCP Connection(4)-192.168.21.80] [] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-12-27 16:00:33.437 [RMI TCP Connection(4)-192.168.21.80] [] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2023-12-27 16:00:33.441 [RMI TCP Connection(5)-192.168.21.80] [] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-12-27 16:00:33.865 [RMI TCP Connection(5)-192.168.21.80] [] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-12-27 16:00:33.874 [RMI TCP Connection(5)-192.168.21.80] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/ns/service/list?app=unknown&pageSize=2147483647&groupName=DEFAULT_GROUP&namespaceId=public&pageNo=1, body: {}
2023-12-27 16:00:34.538 [com.alibaba.nacos.client.naming.updater] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/ns/instance/list?app=unknown&healthyOnly=false&namespaceId=public&clientIP=192.168.21.80&serviceName=DEFAULT_GROUP%40%40service-provider-two&udpPort=59313&clusters=DEFAULT, body: {}
2023-12-27 16:00:36.547 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - [BEAT] public sending beat to server: BeatInfo{port=8212, ip='172.16.28.1', weight=1.0, serviceName='DEFAULT_GROUP@@service-provider-two', cluster='DEFAULT', metadata={preserved.register.source=SPRING_CLOUD}, scheduled=false, period=5000, stopped=false}
2023-12-27 16:00:36.550 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: PUT, url: http://127.0.0.1:8848/nacos/v1/ns/instance/beat?app=unknown&serviceName=DEFAULT_GROUP%40%40service-provider-two&namespaceId=public&port=8212&clusterName=DEFAULT&ip=172.16.28.1, body: {beat={"port":8212,"ip":"172.16.28.1","weight":1.0,"serviceName":"DEFAULT_GROUP@@service-provider-two","cluster":"DEFAULT","metadata":{"preserved.register.source":"SPRING_CLOUD"},"scheduled":false,"period":5000,"stopped":false}}
2023-12-27 16:00:38.281 [com.alibaba.nacos.naming.failover] [] DEBUG com.alibaba.nacos.client.naming - failover switch is not found, failover00-00---000-VIPSRV_FAILOVER_SWITCH-000---00-00
2023-12-27 16:00:41.568 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - [BEAT] public sending beat to server: BeatInfo{port=8212, ip='172.16.28.1', weight=1.0, serviceName='DEFAULT_GROUP@@service-provider-two', cluster='DEFAULT', metadata={preserved.register.source=SPRING_CLOUD}, scheduled=false, period=5000, stopped=false}
2023-12-27 16:00:41.568 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: PUT, url: http://127.0.0.1:8848/nacos/v1/ns/instance/beat?app=unknown&serviceName=DEFAULT_GROUP%40%40service-provider-two&namespaceId=public&port=8212&clusterName=DEFAULT&ip=172.16.28.1, body: {}
2023-12-27 16:00:43.295 [com.alibaba.nacos.naming.failover] [] DEBUG com.alibaba.nacos.client.naming - failover switch is not found, failover00-00---000-VIPSRV_FAILOVER_SWITCH-000---00-00
2023-12-27 16:00:44.556 [com.alibaba.nacos.client.naming.updater] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/ns/instance/list?app=unknown&healthyOnly=false&namespaceId=public&clientIP=192.168.21.80&serviceName=DEFAULT_GROUP%40%40service-provider-two&udpPort=59313&clusters=DEFAULT, body: {}
2023-12-27 16:00:46.576 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - [BEAT] public sending beat to server: BeatInfo{port=8212, ip='172.16.28.1', weight=1.0, serviceName='DEFAULT_GROUP@@service-provider-two', cluster='DEFAULT', metadata={preserved.register.source=SPRING_CLOUD}, scheduled=false, period=5000, stopped=false}
2023-12-27 16:00:46.576 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: PUT, url: http://127.0.0.1:8848/nacos/v1/ns/instance/beat?app=unknown&serviceName=DEFAULT_GROUP%40%40service-provider-two&namespaceId=public&port=8212&clusterName=DEFAULT&ip=172.16.28.1, body: {}
2023-12-27 16:00:48.308 [com.alibaba.nacos.naming.failover] [] DEBUG com.alibaba.nacos.client.naming - failover switch is not found, failover00-00---000-VIPSRV_FAILOVER_SWITCH-000---00-00
2023-12-27 16:00:51.583 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - [BEAT] public sending beat to server: BeatInfo{port=8212, ip='172.16.28.1', weight=1.0, serviceName='DEFAULT_GROUP@@service-provider-two', cluster='DEFAULT', metadata={preserved.register.source=SPRING_CLOUD}, scheduled=false, period=5000, stopped=false}
2023-12-27 16:00:51.583 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: PUT, url: http://127.0.0.1:8848/nacos/v1/ns/instance/beat?app=unknown&serviceName=DEFAULT_GROUP%40%40service-provider-two&namespaceId=public&port=8212&clusterName=DEFAULT&ip=172.16.28.1, body: {}
2023-12-27 16:00:53.322 [com.alibaba.nacos.naming.failover] [] DEBUG com.alibaba.nacos.client.naming - failover switch is not found, failover00-00---000-VIPSRV_FAILOVER_SWITCH-000---00-00
2023-12-27 16:00:54.564 [com.alibaba.nacos.client.naming.updater] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/ns/instance/list?app=unknown&healthyOnly=false&namespaceId=public&clientIP=192.168.21.80&serviceName=DEFAULT_GROUP%40%40service-provider-two&udpPort=59313&clusters=DEFAULT, body: {}
2023-12-27 16:00:56.594 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - [BEAT] public sending beat to server: BeatInfo{port=8212, ip='172.16.28.1', weight=1.0, serviceName='DEFAULT_GROUP@@service-provider-two', cluster='DEFAULT', metadata={preserved.register.source=SPRING_CLOUD}, scheduled=false, period=5000, stopped=false}
2023-12-27 16:00:56.594 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: PUT, url: http://127.0.0.1:8848/nacos/v1/ns/instance/beat?app=unknown&serviceName=DEFAULT_GROUP%40%40service-provider-two&namespaceId=public&port=8212&clusterName=DEFAULT&ip=172.16.28.1, body: {}
2023-12-27 16:00:58.278 [com.alibaba.nacos.client.naming.updater] [] DEBUG com.alibaba.nacos.client.naming - server list provided by user: [127.0.0.1:8848]
2023-12-27 16:00:58.325 [com.alibaba.nacos.naming.failover] [] DEBUG com.alibaba.nacos.client.naming - failover switch is not found, failover00-00---000-VIPSRV_FAILOVER_SWITCH-000---00-00
2023-12-27 16:01:01.612 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - [BEAT] public sending beat to server: BeatInfo{port=8212, ip='172.16.28.1', weight=1.0, serviceName='DEFAULT_GROUP@@service-provider-two', cluster='DEFAULT', metadata={preserved.register.source=SPRING_CLOUD}, scheduled=false, period=5000, stopped=false}
2023-12-27 16:01:01.612 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: PUT, url: http://127.0.0.1:8848/nacos/v1/ns/instance/beat?app=unknown&serviceName=DEFAULT_GROUP%40%40service-provider-two&namespaceId=public&port=8212&clusterName=DEFAULT&ip=172.16.28.1, body: {}
2023-12-27 16:01:02.558 [com.alibaba.nacos.client.Worker.longPolling.fixed-127.0.0.1_8848] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - HTTP method: POST, url: http://127.0.0.1:8848/nacos/v1/cs/configs/listener, body: {Listening-Configs=service-provider-two.yamlDEFAULT_GROUPservice-provider-twoDEFAULT_GROUPservice-provider-two-test.yamlDEFAULT_GROUPe19079f3ea7c3e4e3e98766a6fa144d3}
2023-12-27 16:01:02.558 [com.alibaba.nacos.client.Worker.longPolling.fixed-127.0.0.1_8848] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - Execute via interceptors :[com.alibaba.nacos.client.config.impl.ConfigHttpClientManager$LimiterHttpClientRequestInterceptor@47b67fcb]
2023-12-27 16:01:03.335 [com.alibaba.nacos.naming.failover] [] DEBUG com.alibaba.nacos.client.naming - failover switch is not found, failover00-00---000-VIPSRV_FAILOVER_SWITCH-000---00-00
2023-12-27 16:01:04.575 [com.alibaba.nacos.client.naming.updater] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/ns/instance/list?app=unknown&healthyOnly=false&namespaceId=public&clientIP=192.168.21.80&serviceName=DEFAULT_GROUP%40%40service-provider-two&udpPort=59313&clusters=DEFAULT, body: {}
2023-12-27 16:01:06.629 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - [BEAT] public sending beat to server: BeatInfo{port=8212, ip='172.16.28.1', weight=1.0, serviceName='DEFAULT_GROUP@@service-provider-two', cluster='DEFAULT', metadata={preserved.register.source=SPRING_CLOUD}, scheduled=false, period=5000, stopped=false}
2023-12-27 16:01:06.630 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: PUT, url: http://127.0.0.1:8848/nacos/v1/ns/instance/beat?app=unknown&serviceName=DEFAULT_GROUP%40%40service-provider-two&namespaceId=public&port=8212&clusterName=DEFAULT&ip=172.16.28.1, body: {}
2023-12-27 16:01:08.340 [com.alibaba.nacos.naming.failover] [] DEBUG com.alibaba.nacos.client.naming - failover switch is not found, failover00-00---000-VIPSRV_FAILOVER_SWITCH-000---00-00
2023-12-27 16:01:11.647 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - [BEAT] public sending beat to server: BeatInfo{port=8212, ip='172.16.28.1', weight=1.0, serviceName='DEFAULT_GROUP@@service-provider-two', cluster='DEFAULT', metadata={preserved.register.source=SPRING_CLOUD}, scheduled=false, period=5000, stopped=false}
2023-12-27 16:01:11.647 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: PUT, url: http://127.0.0.1:8848/nacos/v1/ns/instance/beat?app=unknown&serviceName=DEFAULT_GROUP%40%40service-provider-two&namespaceId=public&port=8212&clusterName=DEFAULT&ip=172.16.28.1, body: {}
2023-12-27 16:01:13.346 [com.alibaba.nacos.naming.failover] [] DEBUG com.alibaba.nacos.client.naming - failover switch is not found, failover00-00---000-VIPSRV_FAILOVER_SWITCH-000---00-00
2023-12-27 16:01:14.593 [com.alibaba.nacos.client.naming.updater] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/ns/instance/list?app=unknown&healthyOnly=false&namespaceId=public&clientIP=192.168.21.80&serviceName=DEFAULT_GROUP%40%40service-provider-two&udpPort=59313&clusters=DEFAULT, body: {}
2023-12-27 16:01:15.011 [Thread-6] [] WARN  com.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2023-12-27 16:01:15.011 [Thread-27] [] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2023-12-27 16:01:15.011 [Thread-27] [] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2023-12-27 16:01:15.011 [Thread-6] [] WARN  com.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2023-12-27 16:01:15.238 [SpringApplicationShutdownHook] [] INFO  com.alibaba.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2023-12-27 16:01:15.238 [SpringApplicationShutdownHook] [] INFO  com.alibaba.nacos.client.naming - [BEAT] removing beat: DEFAULT_GROUP@@service-provider-two:172.16.28.1:8212 from beat map.
2023-12-27 16:01:15.238 [SpringApplicationShutdownHook] [] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] public deregistering service DEFAULT_GROUP@@service-provider-two with instance: Instance{instanceId='null', ip='172.16.28.1', port=8212, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2023-12-27 16:01:15.238 [SpringApplicationShutdownHook] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: DELETE, url: http://127.0.0.1:8848/nacos/v1/ns/instance?app=unknown&namespaceId=public&port=8212&clusterName=DEFAULT&ip=172.16.28.1&ephemeral=true&serviceName=DEFAULT_GROUP%40%40service-provider-two, body: {}
2023-12-27 16:01:15.243 [SpringApplicationShutdownHook] [] INFO  com.alibaba.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2023-12-27 16:01:15.243 [SpringApplicationShutdownHook] [] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.beat.BeatReactor do shutdown begin
2023-12-27 16:18:56.251 [main] [] INFO  com.alibaba.nacos.client.config.impl.LocalConfigInfoProcessor - LOCAL_SNAPSHOT_PATH:C:\Users\lirui\nacos\config
2023-12-27 16:18:56.262 [main] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/cs/configs?dataId=service-provider-two&group=DEFAULT_GROUP, body: null
2023-12-27 16:18:56.263 [main] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - Execute via interceptors :[com.alibaba.nacos.client.config.impl.ConfigHttpClientManager$LimiterHttpClientRequestInterceptor@10bea4]
2023-12-27 16:18:56.274 [main] [] INFO  com.alibaba.nacos.client.config.impl.Limiter - limitTime:5.0
2023-12-27 16:18:56.295 [main] [] WARN  com.alibaba.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[service-provider-two] & group[DEFAULT_GROUP]
2023-12-27 16:18:56.296 [main] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/cs/configs?dataId=service-provider-two.yaml&group=DEFAULT_GROUP, body: null
2023-12-27 16:18:56.296 [main] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - Execute via interceptors :[com.alibaba.nacos.client.config.impl.ConfigHttpClientManager$LimiterHttpClientRequestInterceptor@10bea4]
2023-12-27 16:18:56.299 [main] [] WARN  com.alibaba.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[service-provider-two.yaml] & group[DEFAULT_GROUP]
2023-12-27 16:18:56.299 [main] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/cs/configs?dataId=service-provider-two-test.yaml&group=DEFAULT_GROUP, body: null
2023-12-27 16:18:56.299 [main] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - Execute via interceptors :[com.alibaba.nacos.client.config.impl.ConfigHttpClientManager$LimiterHttpClientRequestInterceptor@10bea4]
2023-12-27 16:18:56.302 [main] [] INFO  com.alibaba.nacos.client.config.utils.JvmUtil - isMultiInstance:false
2023-12-27 16:18:56.303 [main] [] DEBUG com.alibaba.cloud.nacos.client.NacosPropertySourceBuilder - Loading nacos data, dataId: 'service-provider-two-test.yaml', group: 'DEFAULT_GROUP', data: server:
  port: 8212
spring:
  application:
    name: service-provider-two  #service-provider-one nacos将服务服务注册中心，默认采用应用程序名称。如果两个服务名称一样，网关会采用负载均衡。默认轮训
  cloud:
    nacos:
      discovery:
        server-addr: 127.0.0.1:8848
#        metadata:  #以下是springbootadmin的配置
#          management:
#            context-path: '${server.servlet.context-path}/actuator'
  datasource:
    #mysql
    #具体参见类DynamicDataSourceAspect 说明
    #不用此默认，默认就是写库,多数据源用jdbcUrl，不是url,spring 默认用的是url，用多数据源用url会报错。
    url: jdbc:mysql://127.0.0.1:3306/demo?useUnicode=true&characterEncoding=utf8&useSSL=true&useJDBCCompliantTimezoneShift=true&useLegacyDatetimeCode=false&serverTimezone=UTC&allowMultiQueries=true&rewriteBatchedStatements=true
    driver-class-name: com.mysql.cj.jdbc.Driver
    username: root
    password: 123456

    # HikariCP： springboot2.0 默认的连接池。https://github.com/brettwooldridge/HikariCP
    #HikariCP  高并发性能优。mysql 8h 空闲断开连接可用quartz 调度定期select 1  。
    #产生此问题DB工作就不繁忙，性能要求不高。可以用上面dbcp2的配置，采取空闲查询策略。
    #要引入mybatis
    type: com.zaxxer.hikari.HikariDataSource
    # Hikari will use the above plus the following to setup connection pooling
    hikari:
      minimum-idle: 5
      maximum-pool-size: 100
      auto-commit: true #OrderManagerService 代码异常，spring自动回滚，或者手动回滚。否则正常自动提交
      idle-timeout: 60000
      #pool-name: HikariCP-Demo
      max-lifetime: 1800000
      connection-timeout: 600000
      #connection-test-query: SELECT 1
management:
  endpoints:
    web:
      exposure:
        include: '*'


#mybatis 配置和mybatis-plus不一样，springbootstarter的myabtis 版本要和mybatis-plus封装的mybatis版本保持一直，
#否则项目中同时存在的myabtis 和mybatis0plus因引用的mybatis版本不一致无法共存。
#mybatis:

#配置日志  打印sql语句
#mybatis-plus:
#  configuration:
#    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl

##mybatis 分页 pageHelper插件4.0.0以后的版本支持自动识别使用的数据库
#pagehelper:
#  ##  mysql、sqlserver2012，没找到sqlserver2008版本的
#  helperDialect: sqlserver2012
#  reasonable: true
#  supportMethodsArguments: true
#  params: count=countSql
2023-12-27 16:18:56.307 [main] [] INFO  org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-service-provider-two-test.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-service-provider-two.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-service-provider-two,DEFAULT_GROUP'}]
2023-12-27 16:18:56.330 [main] [] INFO  com.example.serviceprovidertwo.ServiceProviderTwoApplication - The following 1 profile is active: "test"
2023-12-27 16:18:56.817 [main] [] DEBUG com.baomidou.mybatisplus.autoconfigure.MybatisPlusAutoConfiguration - Searching for mappers annotated with @Mapper
2023-12-27 16:18:56.817 [main] [] DEBUG com.baomidou.mybatisplus.autoconfigure.MybatisPlusAutoConfiguration - Using auto-configuration base package 'com.example.serviceprovidertwo'
2023-12-27 16:18:57.119 [main] [] DEBUG org.apache.ibatis.logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2023-12-27 16:18:57.297 [main] [] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=5ecbdd8d-2f36-3d40-934c-4ffd96734233
2023-12-27 16:18:57.337 [main] [] DEBUG reactor.util.Loggers - Using Slf4j logging framework
2023-12-27 16:18:57.337 [main] [] DEBUG reactor.core.publisher.Hooks - Hooking onEachOperator: org.springframework.cloud.sleuth.autoconfig.instrument.reactor.TraceReactorAutoConfiguration$TraceReactorConfiguration
2023-12-27 16:18:57.338 [main] [] DEBUG reactor.core.publisher.Hooks - Hooking onLastOperator: org.springframework.cloud.sleuth.autoconfig.instrument.reactor.TraceReactorAutoConfiguration$TraceReactorConfiguration
2023-12-27 16:18:57.709 [main] [] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8212 (http)
2023-12-27 16:18:57.714 [main] [] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8212"]
2023-12-27 16:18:57.715 [main] [] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2023-12-27 16:18:57.715 [main] [] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2023-12-27 16:18:57.832 [main] [] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-12-27 16:18:57.832 [main] [] INFO  org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1493 ms
2023-12-27 16:18:57.883 [main] [] DEBUG io.micrometer.core.util.internal.logging.InternalLoggerFactory - Using SLF4J as the default logging framework
2023-12-27 16:18:57.979 [main] [] WARN  com.netflix.config.sources.URLConfigurationSource - No URLs will be polled as dynamic configuration sources.
2023-12-27 16:18:57.979 [main] [] INFO  com.netflix.config.sources.URLConfigurationSource - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2023-12-27 16:18:57.981 [main] [] DEBUG com.netflix.hystrix.strategy.HystrixPlugins - Created HystrixDynamicProperties. Using class : com.netflix.hystrix.strategy.properties.archaius.HystrixDynamicPropertiesArchaius
2023-12-27 16:18:57.986 [main] [] INFO  com.netflix.config.DynamicPropertyFactory - DynamicPropertyFactory is initialized with configuration sources: com.netflix.config.ConcurrentCompositeConfiguration@5c60c08
2023-12-27 16:18:59.727 [main] [] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2023-12-27 16:18:59.736 [main] [] INFO  com.alibaba.nacos.client.naming - initializer namespace from System Property :null
2023-12-27 16:18:59.736 [main] [] INFO  com.alibaba.nacos.client.naming - initializer namespace from System Environment :null
2023-12-27 16:18:59.737 [main] [] INFO  com.alibaba.nacos.client.naming - initializer namespace from System Property :null
2023-12-27 16:18:59.741 [com.alibaba.nacos.client.naming.updater] [] DEBUG com.alibaba.nacos.client.naming - server list provided by user: [127.0.0.1:8848]
2023-12-27 16:18:59.741 [main] [] DEBUG com.alibaba.nacos.client.naming - server list provided by user: [127.0.0.1:8848]
2023-12-27 16:18:59.744 [com.alibaba.nacos.naming.failover] [] DEBUG com.alibaba.nacos.client.naming - failover switch is not found, failover00-00---000-VIPSRV_FAILOVER_SWITCH-000---00-00
2023-12-27 16:19:00.059 [main] [] DEBUG com.baomidou.mybatisplus.extension.spring.MybatisSqlSessionFactoryBean - Parsed mapper file: 'file [D:\work\project\git\java\spring-cloud-nacos\service-provider-two\target\classes\mapper\DemoProductMapper.xml]'
2023-12-27 16:19:00.359 [main] [] WARN  com.netflix.config.sources.URLConfigurationSource - No URLs will be polled as dynamic configuration sources.
2023-12-27 16:19:00.359 [main] [] INFO  com.netflix.config.sources.URLConfigurationSource - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2023-12-27 16:19:00.602 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 
	c.e.s.c.DemoProductController:
	{GET [/api/demoProduct/getDemoProductList]}: getDemoProductList(DemoProductRequest)
	{POST [/api/demoProduct/addDemoProductList]}: addDemoProductList(DemoProductRequest)
2023-12-27 16:19:00.606 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 
	c.e.s.c.TestController:
	{GET [/test/configName]}: configName(String)
	{GET [/test/helloWorld]}: helloWorld(String)
	{POST [/test/add]}: add(Student)
2023-12-27 16:19:00.606 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
	{ [/error]}: error(HttpServletRequest)
2023-12-27 16:19:00.616 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 
	o.s.w.a.OpenApiWebMvcResource:
	{GET [/v3/api-docs.yaml], produces [application/vnd.oai.openapi]}: openapiYaml(HttpServletRequest,String,Locale)
	{GET [/v3/api-docs], produces [application/json]}: openapiJson(HttpServletRequest,String,Locale)
2023-12-27 16:19:00.617 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 
	o.s.w.u.SwaggerWelcomeWebMvc:
	{GET [/swagger-ui.html]}: redirectToUi(HttpServletRequest)
2023-12-27 16:19:00.617 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 
	o.s.w.u.SwaggerConfigResource:
	{GET [/v3/api-docs/swagger-config], produces [application/json]}: openapiJson(HttpServletRequest)
2023-12-27 16:19:00.632 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 'beanNameHandlerMapping' {}
2023-12-27 16:19:00.647 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 'resourceHandlerMapping' {/webjars/**=ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]], /**=ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]], /swagger-ui*/*swagger-initializer.js=ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]], /swagger-ui*/**=ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]}
2023-12-27 16:19:00.694 [main] [] DEBUG com.baomidou.mybatisplus.autoconfigure.MybatisPlusAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2023-12-27 16:19:02.312 [main] [] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2023-12-27 16:19:02.454 [main] [] WARN  org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-12-27 16:19:02.529 [main] [] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 20 endpoint(s) beneath base path '/actuator'
2023-12-27 16:19:02.595 [main] [] DEBUG com.alibaba.nacos.client.naming - failover-mode: false
2023-12-27 16:19:02.596 [main] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/ns/instance/list?app=unknown&healthyOnly=false&namespaceId=public&clientIP=192.168.21.80&serviceName=DEFAULT_GROUP%40%40service-provider-two&udpPort=55577&clusters=DEFAULT, body: {}
2023-12-27 16:19:02.845 [main] [] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8212"]
2023-12-27 16:19:02.859 [main] [] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8212 (http) with context path ''
2023-12-27 16:19:02.863 [main] [] INFO  com.alibaba.nacos.client.naming - [BEAT] adding beat: BeatInfo{port=8212, ip='172.16.28.1', weight=1.0, serviceName='DEFAULT_GROUP@@service-provider-two', cluster='DEFAULT', metadata={preserved.register.source=SPRING_CLOUD}, scheduled=false, period=5000, stopped=false} to beat map.
2023-12-27 16:19:02.864 [main] [] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service DEFAULT_GROUP@@service-provider-two with instance: Instance{instanceId='null', ip='172.16.28.1', port=8212, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={preserved.register.source=SPRING_CLOUD}}
2023-12-27 16:19:02.865 [main] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: POST, url: http://127.0.0.1:8848/nacos/v1/ns/instance?app=unknown&groupName=DEFAULT_GROUP&metadata=%7B%22preserved.register.source%22%3A%22SPRING_CLOUD%22%7D&namespaceId=public&port=8212&enable=true&healthy=true&clusterName=DEFAULT&ip=172.16.28.1&weight=1.0&ephemeral=true&serviceName=DEFAULT_GROUP%40%40service-provider-two, body: {}
2023-12-27 16:19:02.876 [main] [] INFO  com.alibaba.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP service-provider-two 172.16.28.1:8212 register finished
2023-12-27 16:19:03.334 [com.alibaba.nacos.naming.push.receiver] [] INFO  com.alibaba.nacos.client.naming - received push data: {"type":"dom","data":"{\"name\":\"DEFAULT_GROUP@@service-provider-two\",\"clusters\":\"DEFAULT\",\"cacheMillis\":10000,\"hosts\":[],\"lastRefTime\":1703665143331,\"checksum\":\"\",\"allIPs\":false,\"reachProtectionThreshold\":false,\"valid\":true}","lastRefTime":274353093687000} from /192.168.21.80
2023-12-27 16:19:03.860 [com.alibaba.nacos.client.naming.updater] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/ns/instance/list?app=unknown&healthyOnly=false&namespaceId=public&clientIP=192.168.21.80&serviceName=DEFAULT_GROUP%40%40service-provider-two&udpPort=55577&clusters=DEFAULT, body: {}
2023-12-27 16:19:04.204 [main] [] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2023-12-27 16:19:04.229 [main] [] INFO  com.example.serviceprovidertwo.ServiceProviderTwoApplication - Started ServiceProviderTwoApplication in 11.221 seconds (JVM running for 12.629)
2023-12-27 16:19:04.234 [main] [] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] service-provider-two.yaml+DEFAULT_GROUP
2023-12-27 16:19:04.234 [main] [] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=service-provider-two.yaml, group=DEFAULT_GROUP, cnt=1
2023-12-27 16:19:04.235 [main] [] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] service-provider-two-test.yaml+DEFAULT_GROUP
2023-12-27 16:19:04.235 [main] [] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=service-provider-two-test.yaml, group=DEFAULT_GROUP, cnt=1
2023-12-27 16:19:04.235 [main] [] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] service-provider-two+DEFAULT_GROUP
2023-12-27 16:19:04.235 [main] [] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=service-provider-two, group=DEFAULT_GROUP, cnt=1
2023-12-27 16:19:04.237 [com.alibaba.nacos.client.Worker.longPolling.fixed-127.0.0.1_8848] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - HTTP method: POST, url: http://127.0.0.1:8848/nacos/v1/cs/configs/listener, body: {Listening-Configs=service-provider-two.yamlDEFAULT_GROUPservice-provider-twoDEFAULT_GROUPservice-provider-two-test.yamlDEFAULT_GROUPe19079f3ea7c3e4e3e98766a6fa144d3}
2023-12-27 16:19:04.237 [com.alibaba.nacos.client.Worker.longPolling.fixed-127.0.0.1_8848] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - Execute via interceptors :[com.alibaba.nacos.client.config.impl.ConfigHttpClientManager$LimiterHttpClientRequestInterceptor@10bea4]
2023-12-27 16:19:04.239 [com.alibaba.nacos.client.Worker.longPolling.fixed-127.0.0.1_8848] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - HTTP method: POST, url: http://127.0.0.1:8848/nacos/v1/cs/configs/listener, body: {Listening-Configs=service-provider-two.yamlDEFAULT_GROUPservice-provider-twoDEFAULT_GROUPservice-provider-two-test.yamlDEFAULT_GROUPe19079f3ea7c3e4e3e98766a6fa144d3}
2023-12-27 16:19:04.239 [com.alibaba.nacos.client.Worker.longPolling.fixed-127.0.0.1_8848] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - Execute via interceptors :[com.alibaba.nacos.client.config.impl.ConfigHttpClientManager$LimiterHttpClientRequestInterceptor@10bea4]
2023-12-27 16:19:04.434 [com.alibaba.nacos.naming.push.receiver] [] INFO  com.alibaba.nacos.client.naming - received push data: {"type":"dom","data":"{\"name\":\"DEFAULT_GROUP@@service-provider-two\",\"clusters\":\"DEFAULT\",\"cacheMillis\":10000,\"hosts\":[{\"instanceId\":\"172.16.28.1#8212#DEFAULT#DEFAULT_GROUP@@service-provider-two\",\"ip\":\"172.16.28.1\",\"port\":8212,\"weight\":1.0,\"healthy\":true,\"enabled\":true,\"ephemeral\":true,\"clusterName\":\"DEFAULT\",\"serviceName\":\"DEFAULT_GROUP@@service-provider-two\",\"metadata\":{\"preserved.register.source\":\"SPRING_CLOUD\"},\"instanceHeartBeatInterval\":5000,\"instanceHeartBeatTimeOut\":15000,\"ipDeleteTimeout\":30000}],\"lastRefTime\":1703665144427,\"checksum\":\"\",\"allIPs\":false,\"reachProtectionThreshold\":false,\"valid\":true}","lastRefTime":274354189680000} from /192.168.21.80
2023-12-27 16:19:04.453 [com.alibaba.nacos.naming.push.receiver] [] INFO  com.alibaba.nacos.client.naming - new ips(1) service: DEFAULT_GROUP@@service-provider-two@@DEFAULT -> [{"instanceId":"172.16.28.1#8212#DEFAULT#DEFAULT_GROUP@@service-provider-two","ip":"172.16.28.1","port":8212,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@service-provider-two","metadata":{"preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000}]
2023-12-27 16:19:04.454 [nacos.publisher-com.alibaba.nacos.client.naming.event.InstancesChangeEvent] [] DEBUG com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] the com.alibaba.nacos.client.naming.event.InstancesChangeEvent@7fcbb52d will received by com.alibaba.nacos.client.naming.event.InstancesChangeNotifier@29ccab93
2023-12-27 16:19:04.457 [com.alibaba.nacos.naming.push.receiver] [] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@service-provider-two@@DEFAULT -> [{"instanceId":"172.16.28.1#8212#DEFAULT#DEFAULT_GROUP@@service-provider-two","ip":"172.16.28.1","port":8212,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@service-provider-two","metadata":{"preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000}]
2023-12-27 16:19:04.494 [RMI TCP Connection(1)-192.168.21.80] [] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-12-27 16:19:04.495 [RMI TCP Connection(1)-192.168.21.80] [] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-12-27 16:19:04.496 [RMI TCP Connection(1)-192.168.21.80] [] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2023-12-27 16:19:04.755 [com.alibaba.nacos.naming.failover] [] DEBUG com.alibaba.nacos.client.naming - failover switch is not found, failover00-00---000-VIPSRV_FAILOVER_SWITCH-000---00-00
2023-12-27 16:19:04.836 [RMI TCP Connection(3)-192.168.21.80] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/ns/operator/metrics?app=unknown&namespaceId=public, body: {}
2023-12-27 16:19:04.844 [RMI TCP Connection(3)-192.168.21.80] [] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-12-27 16:19:05.231 [RMI TCP Connection(3)-192.168.21.80] [] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-12-27 16:19:05.240 [RMI TCP Connection(3)-192.168.21.80] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/ns/service/list?app=unknown&pageSize=2147483647&groupName=DEFAULT_GROUP&namespaceId=public&pageNo=1, body: {}
2023-12-27 16:19:05.873 [com.alibaba.nacos.client.naming.updater] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/ns/instance/list?app=unknown&healthyOnly=false&namespaceId=public&clientIP=192.168.21.80&serviceName=DEFAULT_GROUP%40%40service-provider-two&udpPort=55577&clusters=DEFAULT, body: {}
2023-12-27 16:19:07.876 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - [BEAT] public sending beat to server: BeatInfo{port=8212, ip='172.16.28.1', weight=1.0, serviceName='DEFAULT_GROUP@@service-provider-two', cluster='DEFAULT', metadata={preserved.register.source=SPRING_CLOUD}, scheduled=false, period=5000, stopped=false}
2023-12-27 16:19:07.879 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: PUT, url: http://127.0.0.1:8848/nacos/v1/ns/instance/beat?app=unknown&serviceName=DEFAULT_GROUP%40%40service-provider-two&namespaceId=public&port=8212&clusterName=DEFAULT&ip=172.16.28.1, body: {beat={"port":8212,"ip":"172.16.28.1","weight":1.0,"serviceName":"DEFAULT_GROUP@@service-provider-two","cluster":"DEFAULT","metadata":{"preserved.register.source":"SPRING_CLOUD"},"scheduled":false,"period":5000,"stopped":false}}
2023-12-27 16:19:09.757 [com.alibaba.nacos.naming.failover] [] DEBUG com.alibaba.nacos.client.naming - failover switch is not found, failover00-00---000-VIPSRV_FAILOVER_SWITCH-000---00-00
2023-12-27 16:19:12.892 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - [BEAT] public sending beat to server: BeatInfo{port=8212, ip='172.16.28.1', weight=1.0, serviceName='DEFAULT_GROUP@@service-provider-two', cluster='DEFAULT', metadata={preserved.register.source=SPRING_CLOUD}, scheduled=false, period=5000, stopped=false}
2023-12-27 16:19:12.892 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: PUT, url: http://127.0.0.1:8848/nacos/v1/ns/instance/beat?app=unknown&serviceName=DEFAULT_GROUP%40%40service-provider-two&namespaceId=public&port=8212&clusterName=DEFAULT&ip=172.16.28.1, body: {}
2023-12-27 16:19:14.759 [com.alibaba.nacos.naming.failover] [] DEBUG com.alibaba.nacos.client.naming - failover switch is not found, failover00-00---000-VIPSRV_FAILOVER_SWITCH-000---00-00
2023-12-27 16:19:15.889 [com.alibaba.nacos.client.naming.updater] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/ns/instance/list?app=unknown&healthyOnly=false&namespaceId=public&clientIP=192.168.21.80&serviceName=DEFAULT_GROUP%40%40service-provider-two&udpPort=55577&clusters=DEFAULT, body: {}
2023-12-27 16:19:17.912 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - [BEAT] public sending beat to server: BeatInfo{port=8212, ip='172.16.28.1', weight=1.0, serviceName='DEFAULT_GROUP@@service-provider-two', cluster='DEFAULT', metadata={preserved.register.source=SPRING_CLOUD}, scheduled=false, period=5000, stopped=false}
2023-12-27 16:19:17.912 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: PUT, url: http://127.0.0.1:8848/nacos/v1/ns/instance/beat?app=unknown&serviceName=DEFAULT_GROUP%40%40service-provider-two&namespaceId=public&port=8212&clusterName=DEFAULT&ip=172.16.28.1, body: {}
2023-12-27 16:19:19.770 [com.alibaba.nacos.naming.failover] [] DEBUG com.alibaba.nacos.client.naming - failover switch is not found, failover00-00---000-VIPSRV_FAILOVER_SWITCH-000---00-00
2023-12-27 16:19:22.938 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - [BEAT] public sending beat to server: BeatInfo{port=8212, ip='172.16.28.1', weight=1.0, serviceName='DEFAULT_GROUP@@service-provider-two', cluster='DEFAULT', metadata={preserved.register.source=SPRING_CLOUD}, scheduled=false, period=5000, stopped=false}
2023-12-27 16:19:22.939 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: PUT, url: http://127.0.0.1:8848/nacos/v1/ns/instance/beat?app=unknown&serviceName=DEFAULT_GROUP%40%40service-provider-two&namespaceId=public&port=8212&clusterName=DEFAULT&ip=172.16.28.1, body: {}
2023-12-27 16:19:24.772 [com.alibaba.nacos.naming.failover] [] DEBUG com.alibaba.nacos.client.naming - failover switch is not found, failover00-00---000-VIPSRV_FAILOVER_SWITCH-000---00-00
2023-12-27 16:19:25.896 [com.alibaba.nacos.client.naming.updater] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/ns/instance/list?app=unknown&healthyOnly=false&namespaceId=public&clientIP=192.168.21.80&serviceName=DEFAULT_GROUP%40%40service-provider-two&udpPort=55577&clusters=DEFAULT, body: {}
2023-12-27 16:19:27.961 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - [BEAT] public sending beat to server: BeatInfo{port=8212, ip='172.16.28.1', weight=1.0, serviceName='DEFAULT_GROUP@@service-provider-two', cluster='DEFAULT', metadata={preserved.register.source=SPRING_CLOUD}, scheduled=false, period=5000, stopped=false}
2023-12-27 16:19:27.961 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: PUT, url: http://127.0.0.1:8848/nacos/v1/ns/instance/beat?app=unknown&serviceName=DEFAULT_GROUP%40%40service-provider-two&namespaceId=public&port=8212&clusterName=DEFAULT&ip=172.16.28.1, body: {}
2023-12-27 16:19:29.753 [com.alibaba.nacos.client.naming.updater] [] DEBUG com.alibaba.nacos.client.naming - server list provided by user: [127.0.0.1:8848]
2023-12-27 16:19:29.784 [com.alibaba.nacos.naming.failover] [] DEBUG com.alibaba.nacos.client.naming - failover switch is not found, failover00-00---000-VIPSRV_FAILOVER_SWITCH-000---00-00
2023-12-27 16:19:32.973 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - [BEAT] public sending beat to server: BeatInfo{port=8212, ip='172.16.28.1', weight=1.0, serviceName='DEFAULT_GROUP@@service-provider-two', cluster='DEFAULT', metadata={preserved.register.source=SPRING_CLOUD}, scheduled=false, period=5000, stopped=false}
2023-12-27 16:19:32.973 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: PUT, url: http://127.0.0.1:8848/nacos/v1/ns/instance/beat?app=unknown&serviceName=DEFAULT_GROUP%40%40service-provider-two&namespaceId=public&port=8212&clusterName=DEFAULT&ip=172.16.28.1, body: {}
2023-12-27 16:19:33.955 [com.alibaba.nacos.client.Worker.longPolling.fixed-127.0.0.1_8848] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - HTTP method: POST, url: http://127.0.0.1:8848/nacos/v1/cs/configs/listener, body: {Listening-Configs=service-provider-two.yamlDEFAULT_GROUPservice-provider-twoDEFAULT_GROUPservice-provider-two-test.yamlDEFAULT_GROUPe19079f3ea7c3e4e3e98766a6fa144d3}
2023-12-27 16:19:33.956 [com.alibaba.nacos.client.Worker.longPolling.fixed-127.0.0.1_8848] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - Execute via interceptors :[com.alibaba.nacos.client.config.impl.ConfigHttpClientManager$LimiterHttpClientRequestInterceptor@10bea4]
2023-12-27 16:19:34.798 [com.alibaba.nacos.naming.failover] [] DEBUG com.alibaba.nacos.client.naming - failover switch is not found, failover00-00---000-VIPSRV_FAILOVER_SWITCH-000---00-00
2023-12-27 16:19:35.913 [com.alibaba.nacos.client.naming.updater] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/ns/instance/list?app=unknown&healthyOnly=false&namespaceId=public&clientIP=192.168.21.80&serviceName=DEFAULT_GROUP%40%40service-provider-two&udpPort=55577&clusters=DEFAULT, body: {}
2023-12-27 16:19:36.348 [Thread-26] [] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2023-12-27 16:19:36.348 [Thread-26] [] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2023-12-27 16:19:36.348 [Thread-6] [] WARN  com.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2023-12-27 16:19:36.349 [Thread-6] [] WARN  com.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2023-12-27 16:19:36.531 [SpringApplicationShutdownHook] [] INFO  com.alibaba.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2023-12-27 16:19:36.531 [SpringApplicationShutdownHook] [] INFO  com.alibaba.nacos.client.naming - [BEAT] removing beat: DEFAULT_GROUP@@service-provider-two:172.16.28.1:8212 from beat map.
2023-12-27 16:19:36.531 [SpringApplicationShutdownHook] [] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] public deregistering service DEFAULT_GROUP@@service-provider-two with instance: Instance{instanceId='null', ip='172.16.28.1', port=8212, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2023-12-27 16:19:36.532 [SpringApplicationShutdownHook] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: DELETE, url: http://127.0.0.1:8848/nacos/v1/ns/instance?app=unknown&namespaceId=public&port=8212&clusterName=DEFAULT&ip=172.16.28.1&ephemeral=true&serviceName=DEFAULT_GROUP%40%40service-provider-two, body: {}
2023-12-27 16:19:36.541 [SpringApplicationShutdownHook] [] INFO  com.alibaba.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2023-12-27 16:19:36.542 [SpringApplicationShutdownHook] [] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.beat.BeatReactor do shutdown begin
2023-12-27 16:19:37.988 [SpringApplicationShutdownHook] [] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.beat.BeatReactor do shutdown stop
2023-12-27 16:19:37.989 [SpringApplicationShutdownHook] [] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.HostReactor do shutdown begin
2023-12-27 16:19:38.140 [com.alibaba.nacos.naming.push.receiver] [] INFO  com.alibaba.nacos.client.naming - received push data: {"type":"dom","data":"{\"name\":\"DEFAULT_GROUP@@service-provider-two\",\"clusters\":\"DEFAULT\",\"cacheMillis\":10000,\"hosts\":[],\"lastRefTime\":1703665178138,\"checksum\":\"\",\"allIPs\":false,\"reachProtectionThreshold\":false,\"valid\":true}","lastRefTime":274387900159300} from /192.168.21.80
2023-12-27 16:19:38.140 [com.alibaba.nacos.naming.push.receiver] [] INFO  com.alibaba.nacos.client.naming - removed ips(1) service: DEFAULT_GROUP@@service-provider-two@@DEFAULT -> [{"instanceId":"172.16.28.1#8212#DEFAULT#DEFAULT_GROUP@@service-provider-two","ip":"172.16.28.1","port":8212,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@service-provider-two","metadata":{"preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000}]
2023-12-27 16:19:38.140 [nacos.publisher-com.alibaba.nacos.client.naming.event.InstancesChangeEvent] [] DEBUG com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] the com.alibaba.nacos.client.naming.event.InstancesChangeEvent@54de05ed will received by com.alibaba.nacos.client.naming.event.InstancesChangeNotifier@29ccab93
2023-12-27 16:19:38.142 [com.alibaba.nacos.naming.push.receiver] [] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@service-provider-two@@DEFAULT -> []
2023-12-27 16:19:39.801 [com.alibaba.nacos.naming.failover] [] DEBUG com.alibaba.nacos.client.naming - failover switch is not found, failover00-00---000-VIPSRV_FAILOVER_SWITCH-000---00-00
2023-12-27 16:19:41.014 [SpringApplicationShutdownHook] [] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.PushReceiver do shutdown begin
2023-12-27 16:19:44.044 [SpringApplicationShutdownHook] [] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.PushReceiver do shutdown stop
2023-12-27 16:19:44.045 [SpringApplicationShutdownHook] [] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2023-12-27 16:19:44.046 [SpringApplicationShutdownHook] [] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2023-12-27 16:19:44.046 [SpringApplicationShutdownHook] [] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.HostReactor do shutdown stop
2023-12-27 16:19:44.047 [SpringApplicationShutdownHook] [] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.net.NamingProxy do shutdown begin
2023-12-27 16:19:44.048 [SpringApplicationShutdownHook] [] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2023-12-27 16:19:44.048 [SpringApplicationShutdownHook] [] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2023-12-27 16:19:44.048 [SpringApplicationShutdownHook] [] INFO  com.alibaba.nacos.client.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2023-12-27 16:19:44.049 [SpringApplicationShutdownHook] [] INFO  com.alibaba.nacos.client.identify.CredentialService - [null] CredentialService is freed
2023-12-27 16:19:44.049 [SpringApplicationShutdownHook] [] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.net.NamingProxy do shutdown stop
2023-12-27 16:19:44.050 [SpringApplicationShutdownHook] [] WARN  org.springframework.beans.factory.support.DisposableBeanAdapter - Custom destroy method 'close' on bean with name 'nacosServiceRegistry' threw an exception: java.lang.NullPointerException
2023-12-27 16:19:44.052 [SpringApplicationShutdownHook] [] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-12-27 16:19:44.058 [SpringApplicationShutdownHook] [] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-12-27 16:19:44.060 [SpringApplicationShutdownHook] [] DEBUG reactor.core.publisher.Hooks - Reset onEachOperator: org.springframework.cloud.sleuth.autoconfig.instrument.reactor.TraceReactorAutoConfiguration$TraceReactorConfiguration
2023-12-27 16:19:44.060 [SpringApplicationShutdownHook] [] DEBUG reactor.core.publisher.Hooks - Reset onLastOperator: org.springframework.cloud.sleuth.autoconfig.instrument.reactor.TraceReactorAutoConfiguration$TraceReactorConfiguration
2023-12-27 16:24:50.713 [main] [] INFO  com.alibaba.nacos.client.config.impl.LocalConfigInfoProcessor - LOCAL_SNAPSHOT_PATH:C:\Users\lirui\nacos\config
2023-12-27 16:24:50.724 [main] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/cs/configs?dataId=service-provider-two&group=DEFAULT_GROUP, body: null
2023-12-27 16:24:50.725 [main] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - Execute via interceptors :[com.alibaba.nacos.client.config.impl.ConfigHttpClientManager$LimiterHttpClientRequestInterceptor@3cbf1ba4]
2023-12-27 16:24:50.736 [main] [] INFO  com.alibaba.nacos.client.config.impl.Limiter - limitTime:5.0
2023-12-27 16:24:50.757 [main] [] WARN  com.alibaba.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[service-provider-two] & group[DEFAULT_GROUP]
2023-12-27 16:24:50.758 [main] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/cs/configs?dataId=service-provider-two.yaml&group=DEFAULT_GROUP, body: null
2023-12-27 16:24:50.758 [main] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - Execute via interceptors :[com.alibaba.nacos.client.config.impl.ConfigHttpClientManager$LimiterHttpClientRequestInterceptor@3cbf1ba4]
2023-12-27 16:24:50.761 [main] [] WARN  com.alibaba.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[service-provider-two.yaml] & group[DEFAULT_GROUP]
2023-12-27 16:24:50.762 [main] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/cs/configs?dataId=service-provider-two-test.yaml&group=DEFAULT_GROUP, body: null
2023-12-27 16:24:50.762 [main] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - Execute via interceptors :[com.alibaba.nacos.client.config.impl.ConfigHttpClientManager$LimiterHttpClientRequestInterceptor@3cbf1ba4]
2023-12-27 16:24:50.765 [main] [] INFO  com.alibaba.nacos.client.config.utils.JvmUtil - isMultiInstance:false
2023-12-27 16:24:50.766 [main] [] DEBUG com.alibaba.cloud.nacos.client.NacosPropertySourceBuilder - Loading nacos data, dataId: 'service-provider-two-test.yaml', group: 'DEFAULT_GROUP', data: server:
  port: 8212
spring:
  application:
    name: service-provider-two  #service-provider-one nacos将服务服务注册中心，默认采用应用程序名称。如果两个服务名称一样，网关会采用负载均衡。默认轮训
  cloud:
    nacos:
      discovery:
        server-addr: 127.0.0.1:8848
#        metadata:  #以下是springbootadmin的配置
#          management:
#            context-path: '${server.servlet.context-path}/actuator'
  datasource:
    #mysql
    #具体参见类DynamicDataSourceAspect 说明
    #不用此默认，默认就是写库,多数据源用jdbcUrl，不是url,spring 默认用的是url，用多数据源用url会报错。
    url: jdbc:mysql://127.0.0.1:3306/demo?useUnicode=true&characterEncoding=utf8&useSSL=true&useJDBCCompliantTimezoneShift=true&useLegacyDatetimeCode=false&serverTimezone=UTC&allowMultiQueries=true&rewriteBatchedStatements=true
    driver-class-name: com.mysql.cj.jdbc.Driver
    username: root
    password: 123456

    # HikariCP： springboot2.0 默认的连接池。https://github.com/brettwooldridge/HikariCP
    #HikariCP  高并发性能优。mysql 8h 空闲断开连接可用quartz 调度定期select 1  。
    #产生此问题DB工作就不繁忙，性能要求不高。可以用上面dbcp2的配置，采取空闲查询策略。
    #要引入mybatis
    type: com.zaxxer.hikari.HikariDataSource
    # Hikari will use the above plus the following to setup connection pooling
    hikari:
      minimum-idle: 5
      maximum-pool-size: 100
      auto-commit: true #OrderManagerService 代码异常，spring自动回滚，或者手动回滚。否则正常自动提交
      idle-timeout: 60000
      #pool-name: HikariCP-Demo
      max-lifetime: 1800000
      connection-timeout: 600000
      #connection-test-query: SELECT 1
management:
  endpoints:
    web:
      exposure:
        include: '*'


#mybatis 配置和mybatis-plus不一样，springbootstarter的myabtis 版本要和mybatis-plus封装的mybatis版本保持一直，
#否则项目中同时存在的myabtis 和mybatis0plus因引用的mybatis版本不一致无法共存。
#mybatis:

#配置日志  打印sql语句
#mybatis-plus:
#  configuration:
#    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl

##mybatis 分页 pageHelper插件4.0.0以后的版本支持自动识别使用的数据库
#pagehelper:
#  ##  mysql、sqlserver2012，没找到sqlserver2008版本的
#  helperDialect: sqlserver2012
#  reasonable: true
#  supportMethodsArguments: true
#  params: count=countSql
2023-12-27 16:24:50.770 [main] [] INFO  org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-service-provider-two-test.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-service-provider-two.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-service-provider-two,DEFAULT_GROUP'}]
2023-12-27 16:24:50.792 [main] [] INFO  com.example.serviceprovidertwo.ServiceProviderTwoApplication - The following 1 profile is active: "test"
2023-12-27 16:24:51.287 [main] [] DEBUG com.baomidou.mybatisplus.autoconfigure.MybatisPlusAutoConfiguration - Searching for mappers annotated with @Mapper
2023-12-27 16:24:51.288 [main] [] DEBUG com.baomidou.mybatisplus.autoconfigure.MybatisPlusAutoConfiguration - Using auto-configuration base package 'com.example.serviceprovidertwo'
2023-12-27 16:24:51.588 [main] [] DEBUG org.apache.ibatis.logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2023-12-27 16:24:51.783 [main] [] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=5ecbdd8d-2f36-3d40-934c-4ffd96734233
2023-12-27 16:24:51.826 [main] [] DEBUG reactor.util.Loggers - Using Slf4j logging framework
2023-12-27 16:24:51.826 [main] [] DEBUG reactor.core.publisher.Hooks - Hooking onEachOperator: org.springframework.cloud.sleuth.autoconfig.instrument.reactor.TraceReactorAutoConfiguration$TraceReactorConfiguration
2023-12-27 16:24:51.827 [main] [] DEBUG reactor.core.publisher.Hooks - Hooking onLastOperator: org.springframework.cloud.sleuth.autoconfig.instrument.reactor.TraceReactorAutoConfiguration$TraceReactorConfiguration
2023-12-27 16:24:52.200 [main] [] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8212 (http)
2023-12-27 16:24:52.206 [main] [] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8212"]
2023-12-27 16:24:52.206 [main] [] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2023-12-27 16:24:52.206 [main] [] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2023-12-27 16:24:52.314 [main] [] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-12-27 16:24:52.315 [main] [] INFO  org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1513 ms
2023-12-27 16:24:52.370 [main] [] DEBUG io.micrometer.core.util.internal.logging.InternalLoggerFactory - Using SLF4J as the default logging framework
2023-12-27 16:24:52.446 [main] [] WARN  com.netflix.config.sources.URLConfigurationSource - No URLs will be polled as dynamic configuration sources.
2023-12-27 16:24:52.446 [main] [] INFO  com.netflix.config.sources.URLConfigurationSource - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2023-12-27 16:24:52.449 [main] [] DEBUG com.netflix.hystrix.strategy.HystrixPlugins - Created HystrixDynamicProperties. Using class : com.netflix.hystrix.strategy.properties.archaius.HystrixDynamicPropertiesArchaius
2023-12-27 16:24:52.454 [main] [] INFO  com.netflix.config.DynamicPropertyFactory - DynamicPropertyFactory is initialized with configuration sources: com.netflix.config.ConcurrentCompositeConfiguration@3f80d8c
2023-12-27 16:24:54.161 [main] [] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2023-12-27 16:24:54.167 [main] [] INFO  com.alibaba.nacos.client.naming - initializer namespace from System Property :null
2023-12-27 16:24:54.168 [main] [] INFO  com.alibaba.nacos.client.naming - initializer namespace from System Environment :null
2023-12-27 16:24:54.168 [main] [] INFO  com.alibaba.nacos.client.naming - initializer namespace from System Property :null
2023-12-27 16:24:54.172 [com.alibaba.nacos.client.naming.updater] [] DEBUG com.alibaba.nacos.client.naming - server list provided by user: [127.0.0.1:8848]
2023-12-27 16:24:54.172 [main] [] DEBUG com.alibaba.nacos.client.naming - server list provided by user: [127.0.0.1:8848]
2023-12-27 16:24:54.175 [com.alibaba.nacos.naming.failover] [] DEBUG com.alibaba.nacos.client.naming - failover switch is not found, failover00-00---000-VIPSRV_FAILOVER_SWITCH-000---00-00
2023-12-27 16:24:54.498 [main] [] DEBUG com.baomidou.mybatisplus.extension.spring.MybatisSqlSessionFactoryBean - Parsed mapper file: 'file [D:\work\project\git\java\spring-cloud-nacos\service-provider-two\target\classes\mapper\DemoProductMapper.xml]'
2023-12-27 16:24:54.782 [main] [] WARN  com.netflix.config.sources.URLConfigurationSource - No URLs will be polled as dynamic configuration sources.
2023-12-27 16:24:54.782 [main] [] INFO  com.netflix.config.sources.URLConfigurationSource - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2023-12-27 16:24:55.030 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 
	c.e.s.c.DemoProductController:
	{POST [/api/demoProduct/addDemoProductList]}: addDemoProductList(DemoProductRequest)
	{GET [/api/demoProduct/getDemoProductList]}: getDemoProductList(DemoProductRequest)
2023-12-27 16:24:55.032 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 
	c.e.s.c.TestController:
	{POST [/test/add]}: add(Student)
	{GET [/test/configName]}: configName(String)
	{GET [/test/helloWorld]}: helloWorld(String)
2023-12-27 16:24:55.033 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
	{ [/error]}: error(HttpServletRequest)
2023-12-27 16:24:55.043 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 
	o.s.w.a.OpenApiWebMvcResource:
	{GET [/v3/api-docs.yaml], produces [application/vnd.oai.openapi]}: openapiYaml(HttpServletRequest,String,Locale)
	{GET [/v3/api-docs], produces [application/json]}: openapiJson(HttpServletRequest,String,Locale)
2023-12-27 16:24:55.044 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 
	o.s.w.u.SwaggerWelcomeWebMvc:
	{GET [/swagger-ui.html]}: redirectToUi(HttpServletRequest)
2023-12-27 16:24:55.044 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 
	o.s.w.u.SwaggerConfigResource:
	{GET [/v3/api-docs/swagger-config], produces [application/json]}: openapiJson(HttpServletRequest)
2023-12-27 16:24:55.059 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 'beanNameHandlerMapping' {}
2023-12-27 16:24:55.074 [main] [] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings - 'resourceHandlerMapping' {/webjars/**=ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]], /**=ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]], /swagger-ui*/*swagger-initializer.js=ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]], /swagger-ui*/**=ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]}
2023-12-27 16:24:55.124 [main] [] DEBUG com.baomidou.mybatisplus.autoconfigure.MybatisPlusAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2023-12-27 16:24:56.796 [main] [] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2023-12-27 16:24:56.944 [main] [] WARN  org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-12-27 16:24:57.018 [main] [] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 20 endpoint(s) beneath base path '/actuator'
2023-12-27 16:24:57.080 [main] [] DEBUG com.alibaba.nacos.client.naming - failover-mode: false
2023-12-27 16:24:57.081 [main] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/ns/instance/list?app=unknown&healthyOnly=false&namespaceId=public&clientIP=192.168.21.80&serviceName=DEFAULT_GROUP%40%40service-provider-two&udpPort=60532&clusters=DEFAULT, body: {}
2023-12-27 16:24:57.330 [main] [] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8212"]
2023-12-27 16:24:57.342 [main] [] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8212 (http) with context path ''
2023-12-27 16:24:57.345 [main] [] INFO  com.alibaba.nacos.client.naming - [BEAT] adding beat: BeatInfo{port=8212, ip='172.16.28.1', weight=1.0, serviceName='DEFAULT_GROUP@@service-provider-two', cluster='DEFAULT', metadata={preserved.register.source=SPRING_CLOUD}, scheduled=false, period=5000, stopped=false} to beat map.
2023-12-27 16:24:57.346 [main] [] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service DEFAULT_GROUP@@service-provider-two with instance: Instance{instanceId='null', ip='172.16.28.1', port=8212, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={preserved.register.source=SPRING_CLOUD}}
2023-12-27 16:24:57.347 [main] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: POST, url: http://127.0.0.1:8848/nacos/v1/ns/instance?app=unknown&groupName=DEFAULT_GROUP&metadata=%7B%22preserved.register.source%22%3A%22SPRING_CLOUD%22%7D&namespaceId=public&port=8212&enable=true&healthy=true&clusterName=DEFAULT&ip=172.16.28.1&weight=1.0&ephemeral=true&serviceName=DEFAULT_GROUP%40%40service-provider-two, body: {}
2023-12-27 16:24:57.353 [main] [] INFO  com.alibaba.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP service-provider-two 172.16.28.1:8212 register finished
2023-12-27 16:24:57.799 [com.alibaba.nacos.naming.push.receiver] [] INFO  com.alibaba.nacos.client.naming - received push data: {"type":"dom","data":"{\"name\":\"DEFAULT_GROUP@@service-provider-two\",\"clusters\":\"DEFAULT\",\"cacheMillis\":10000,\"hosts\":[],\"lastRefTime\":1703665497797,\"checksum\":\"\",\"allIPs\":false,\"reachProtectionThreshold\":false,\"valid\":true}","lastRefTime":274707559061200} from /192.168.21.80
2023-12-27 16:24:58.344 [com.alibaba.nacos.client.naming.updater] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/ns/instance/list?app=unknown&healthyOnly=false&namespaceId=public&clientIP=192.168.21.80&serviceName=DEFAULT_GROUP%40%40service-provider-two&udpPort=60532&clusters=DEFAULT, body: {}
2023-12-27 16:24:58.625 [main] [] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2023-12-27 16:24:58.645 [main] [] INFO  com.example.serviceprovidertwo.ServiceProviderTwoApplication - Started ServiceProviderTwoApplication in 11.166 seconds (JVM running for 12.223)
2023-12-27 16:24:58.649 [main] [] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] service-provider-two.yaml+DEFAULT_GROUP
2023-12-27 16:24:58.650 [main] [] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=service-provider-two.yaml, group=DEFAULT_GROUP, cnt=1
2023-12-27 16:24:58.650 [main] [] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] service-provider-two-test.yaml+DEFAULT_GROUP
2023-12-27 16:24:58.650 [main] [] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=service-provider-two-test.yaml, group=DEFAULT_GROUP, cnt=1
2023-12-27 16:24:58.650 [main] [] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] service-provider-two+DEFAULT_GROUP
2023-12-27 16:24:58.650 [main] [] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=service-provider-two, group=DEFAULT_GROUP, cnt=1
2023-12-27 16:24:58.658 [com.alibaba.nacos.client.Worker.longPolling.fixed-127.0.0.1_8848] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - HTTP method: POST, url: http://127.0.0.1:8848/nacos/v1/cs/configs/listener, body: {Listening-Configs=service-provider-two.yamlDEFAULT_GROUPservice-provider-twoDEFAULT_GROUPservice-provider-two-test.yamlDEFAULT_GROUPe19079f3ea7c3e4e3e98766a6fa144d3}
2023-12-27 16:24:58.658 [com.alibaba.nacos.client.Worker.longPolling.fixed-127.0.0.1_8848] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - Execute via interceptors :[com.alibaba.nacos.client.config.impl.ConfigHttpClientManager$LimiterHttpClientRequestInterceptor@3cbf1ba4]
2023-12-27 16:24:58.660 [com.alibaba.nacos.client.Worker.longPolling.fixed-127.0.0.1_8848] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - HTTP method: POST, url: http://127.0.0.1:8848/nacos/v1/cs/configs/listener, body: {Listening-Configs=service-provider-two.yamlDEFAULT_GROUPservice-provider-twoDEFAULT_GROUPservice-provider-two-test.yamlDEFAULT_GROUPe19079f3ea7c3e4e3e98766a6fa144d3}
2023-12-27 16:24:58.660 [com.alibaba.nacos.client.Worker.longPolling.fixed-127.0.0.1_8848] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - Execute via interceptors :[com.alibaba.nacos.client.config.impl.ConfigHttpClientManager$LimiterHttpClientRequestInterceptor@3cbf1ba4]
2023-12-27 16:24:59.000 [com.alibaba.nacos.naming.push.receiver] [] INFO  com.alibaba.nacos.client.naming - received push data: {"type":"dom","data":"{\"name\":\"DEFAULT_GROUP@@service-provider-two\",\"clusters\":\"DEFAULT\",\"cacheMillis\":10000,\"hosts\":[{\"instanceId\":\"172.16.28.1#8212#DEFAULT#DEFAULT_GROUP@@service-provider-two\",\"ip\":\"172.16.28.1\",\"port\":8212,\"weight\":1.0,\"healthy\":true,\"enabled\":true,\"ephemeral\":true,\"clusterName\":\"DEFAULT\",\"serviceName\":\"DEFAULT_GROUP@@service-provider-two\",\"metadata\":{\"preserved.register.source\":\"SPRING_CLOUD\"},\"instanceHeartBeatInterval\":5000,\"instanceHeartBeatTimeOut\":15000,\"ipDeleteTimeout\":30000}],\"lastRefTime\":1703665498996,\"checksum\":\"\",\"allIPs\":false,\"reachProtectionThreshold\":false,\"valid\":true}","lastRefTime":274708758955599} from /192.168.21.80
2023-12-27 16:24:59.015 [com.alibaba.nacos.naming.push.receiver] [] INFO  com.alibaba.nacos.client.naming - new ips(1) service: DEFAULT_GROUP@@service-provider-two@@DEFAULT -> [{"instanceId":"172.16.28.1#8212#DEFAULT#DEFAULT_GROUP@@service-provider-two","ip":"172.16.28.1","port":8212,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@service-provider-two","metadata":{"preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000}]
2023-12-27 16:24:59.016 [nacos.publisher-com.alibaba.nacos.client.naming.event.InstancesChangeEvent] [] DEBUG com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] the com.alibaba.nacos.client.naming.event.InstancesChangeEvent@1b41c4ac will received by com.alibaba.nacos.client.naming.event.InstancesChangeNotifier@205f52ea
2023-12-27 16:24:59.018 [com.alibaba.nacos.naming.push.receiver] [] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@service-provider-two@@DEFAULT -> [{"instanceId":"172.16.28.1#8212#DEFAULT#DEFAULT_GROUP@@service-provider-two","ip":"172.16.28.1","port":8212,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@service-provider-two","metadata":{"preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000}]
2023-12-27 16:24:59.054 [RMI TCP Connection(1)-192.168.21.80] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/ns/operator/metrics?app=unknown&namespaceId=public, body: {}
2023-12-27 16:24:59.063 [RMI TCP Connection(1)-192.168.21.80] [] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-12-27 16:24:59.180 [com.alibaba.nacos.naming.failover] [] DEBUG com.alibaba.nacos.client.naming - failover switch is not found, failover00-00---000-VIPSRV_FAILOVER_SWITCH-000---00-00
2023-12-27 16:24:59.447 [RMI TCP Connection(3)-192.168.21.80] [] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-12-27 16:24:59.447 [RMI TCP Connection(3)-192.168.21.80] [] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-12-27 16:24:59.449 [RMI TCP Connection(3)-192.168.21.80] [] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2023-12-27 16:24:59.517 [RMI TCP Connection(1)-192.168.21.80] [] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-12-27 16:24:59.526 [RMI TCP Connection(1)-192.168.21.80] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/ns/service/list?app=unknown&pageSize=2147483647&groupName=DEFAULT_GROUP&namespaceId=public&pageNo=1, body: {}
2023-12-27 16:25:00.354 [com.alibaba.nacos.client.naming.updater] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/ns/instance/list?app=unknown&healthyOnly=false&namespaceId=public&clientIP=192.168.21.80&serviceName=DEFAULT_GROUP%40%40service-provider-two&udpPort=60532&clusters=DEFAULT, body: {}
2023-12-27 16:25:02.348 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - [BEAT] public sending beat to server: BeatInfo{port=8212, ip='172.16.28.1', weight=1.0, serviceName='DEFAULT_GROUP@@service-provider-two', cluster='DEFAULT', metadata={preserved.register.source=SPRING_CLOUD}, scheduled=false, period=5000, stopped=false}
2023-12-27 16:25:02.352 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: PUT, url: http://127.0.0.1:8848/nacos/v1/ns/instance/beat?app=unknown&serviceName=DEFAULT_GROUP%40%40service-provider-two&namespaceId=public&port=8212&clusterName=DEFAULT&ip=172.16.28.1, body: {beat={"port":8212,"ip":"172.16.28.1","weight":1.0,"serviceName":"DEFAULT_GROUP@@service-provider-two","cluster":"DEFAULT","metadata":{"preserved.register.source":"SPRING_CLOUD"},"scheduled":false,"period":5000,"stopped":false}}
2023-12-27 16:25:04.193 [com.alibaba.nacos.naming.failover] [] DEBUG com.alibaba.nacos.client.naming - failover switch is not found, failover00-00---000-VIPSRV_FAILOVER_SWITCH-000---00-00
2023-12-27 16:25:07.371 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - [BEAT] public sending beat to server: BeatInfo{port=8212, ip='172.16.28.1', weight=1.0, serviceName='DEFAULT_GROUP@@service-provider-two', cluster='DEFAULT', metadata={preserved.register.source=SPRING_CLOUD}, scheduled=false, period=5000, stopped=false}
2023-12-27 16:25:07.372 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: PUT, url: http://127.0.0.1:8848/nacos/v1/ns/instance/beat?app=unknown&serviceName=DEFAULT_GROUP%40%40service-provider-two&namespaceId=public&port=8212&clusterName=DEFAULT&ip=172.16.28.1, body: {}
2023-12-27 16:25:09.197 [com.alibaba.nacos.naming.failover] [] DEBUG com.alibaba.nacos.client.naming - failover switch is not found, failover00-00---000-VIPSRV_FAILOVER_SWITCH-000---00-00
2023-12-27 16:25:10.364 [com.alibaba.nacos.client.naming.updater] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/ns/instance/list?app=unknown&healthyOnly=false&namespaceId=public&clientIP=192.168.21.80&serviceName=DEFAULT_GROUP%40%40service-provider-two&udpPort=60532&clusters=DEFAULT, body: {}
2023-12-27 16:25:12.394 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - [BEAT] public sending beat to server: BeatInfo{port=8212, ip='172.16.28.1', weight=1.0, serviceName='DEFAULT_GROUP@@service-provider-two', cluster='DEFAULT', metadata={preserved.register.source=SPRING_CLOUD}, scheduled=false, period=5000, stopped=false}
2023-12-27 16:25:12.395 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: PUT, url: http://127.0.0.1:8848/nacos/v1/ns/instance/beat?app=unknown&serviceName=DEFAULT_GROUP%40%40service-provider-two&namespaceId=public&port=8212&clusterName=DEFAULT&ip=172.16.28.1, body: {}
2023-12-27 16:25:14.212 [com.alibaba.nacos.naming.failover] [] DEBUG com.alibaba.nacos.client.naming - failover switch is not found, failover00-00---000-VIPSRV_FAILOVER_SWITCH-000---00-00
2023-12-27 16:25:17.404 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - [BEAT] public sending beat to server: BeatInfo{port=8212, ip='172.16.28.1', weight=1.0, serviceName='DEFAULT_GROUP@@service-provider-two', cluster='DEFAULT', metadata={preserved.register.source=SPRING_CLOUD}, scheduled=false, period=5000, stopped=false}
2023-12-27 16:25:17.405 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: PUT, url: http://127.0.0.1:8848/nacos/v1/ns/instance/beat?app=unknown&serviceName=DEFAULT_GROUP%40%40service-provider-two&namespaceId=public&port=8212&clusterName=DEFAULT&ip=172.16.28.1, body: {}
2023-12-27 16:25:19.224 [com.alibaba.nacos.naming.failover] [] DEBUG com.alibaba.nacos.client.naming - failover switch is not found, failover00-00---000-VIPSRV_FAILOVER_SWITCH-000---00-00
2023-12-27 16:25:20.370 [com.alibaba.nacos.client.naming.updater] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/ns/instance/list?app=unknown&healthyOnly=false&namespaceId=public&clientIP=192.168.21.80&serviceName=DEFAULT_GROUP%40%40service-provider-two&udpPort=60532&clusters=DEFAULT, body: {}
2023-12-27 16:25:22.423 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - [BEAT] public sending beat to server: BeatInfo{port=8212, ip='172.16.28.1', weight=1.0, serviceName='DEFAULT_GROUP@@service-provider-two', cluster='DEFAULT', metadata={preserved.register.source=SPRING_CLOUD}, scheduled=false, period=5000, stopped=false}
2023-12-27 16:25:22.423 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: PUT, url: http://127.0.0.1:8848/nacos/v1/ns/instance/beat?app=unknown&serviceName=DEFAULT_GROUP%40%40service-provider-two&namespaceId=public&port=8212&clusterName=DEFAULT&ip=172.16.28.1, body: {}
2023-12-27 16:25:24.180 [com.alibaba.nacos.client.naming.updater] [] DEBUG com.alibaba.nacos.client.naming - server list provided by user: [127.0.0.1:8848]
2023-12-27 16:25:24.228 [com.alibaba.nacos.naming.failover] [] DEBUG com.alibaba.nacos.client.naming - failover switch is not found, failover00-00---000-VIPSRV_FAILOVER_SWITCH-000---00-00
2023-12-27 16:25:27.442 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - [BEAT] public sending beat to server: BeatInfo{port=8212, ip='172.16.28.1', weight=1.0, serviceName='DEFAULT_GROUP@@service-provider-two', cluster='DEFAULT', metadata={preserved.register.source=SPRING_CLOUD}, scheduled=false, period=5000, stopped=false}
2023-12-27 16:25:27.444 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: PUT, url: http://127.0.0.1:8848/nacos/v1/ns/instance/beat?app=unknown&serviceName=DEFAULT_GROUP%40%40service-provider-two&namespaceId=public&port=8212&clusterName=DEFAULT&ip=172.16.28.1, body: {}
2023-12-27 16:25:28.372 [com.alibaba.nacos.client.Worker.longPolling.fixed-127.0.0.1_8848] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - HTTP method: POST, url: http://127.0.0.1:8848/nacos/v1/cs/configs/listener, body: {Listening-Configs=service-provider-two.yamlDEFAULT_GROUPservice-provider-twoDEFAULT_GROUPservice-provider-two-test.yamlDEFAULT_GROUPe19079f3ea7c3e4e3e98766a6fa144d3}
2023-12-27 16:25:28.372 [com.alibaba.nacos.client.Worker.longPolling.fixed-127.0.0.1_8848] [] DEBUG com.alibaba.nacos.client.config.impl.ConfigHttpClientManager - Execute via interceptors :[com.alibaba.nacos.client.config.impl.ConfigHttpClientManager$LimiterHttpClientRequestInterceptor@3cbf1ba4]
2023-12-27 16:25:29.238 [com.alibaba.nacos.naming.failover] [] DEBUG com.alibaba.nacos.client.naming - failover switch is not found, failover00-00---000-VIPSRV_FAILOVER_SWITCH-000---00-00
2023-12-27 16:25:30.383 [com.alibaba.nacos.client.naming.updater] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/ns/instance/list?app=unknown&healthyOnly=false&namespaceId=public&clientIP=192.168.21.80&serviceName=DEFAULT_GROUP%40%40service-provider-two&udpPort=60532&clusters=DEFAULT, body: {}
2023-12-27 16:25:32.462 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - [BEAT] public sending beat to server: BeatInfo{port=8212, ip='172.16.28.1', weight=1.0, serviceName='DEFAULT_GROUP@@service-provider-two', cluster='DEFAULT', metadata={preserved.register.source=SPRING_CLOUD}, scheduled=false, period=5000, stopped=false}
2023-12-27 16:25:32.463 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: PUT, url: http://127.0.0.1:8848/nacos/v1/ns/instance/beat?app=unknown&serviceName=DEFAULT_GROUP%40%40service-provider-two&namespaceId=public&port=8212&clusterName=DEFAULT&ip=172.16.28.1, body: {}
2023-12-27 16:25:34.248 [com.alibaba.nacos.naming.failover] [] DEBUG com.alibaba.nacos.client.naming - failover switch is not found, failover00-00---000-VIPSRV_FAILOVER_SWITCH-000---00-00
2023-12-27 16:25:37.475 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - [BEAT] public sending beat to server: BeatInfo{port=8212, ip='172.16.28.1', weight=1.0, serviceName='DEFAULT_GROUP@@service-provider-two', cluster='DEFAULT', metadata={preserved.register.source=SPRING_CLOUD}, scheduled=false, period=5000, stopped=false}
2023-12-27 16:25:37.475 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: PUT, url: http://127.0.0.1:8848/nacos/v1/ns/instance/beat?app=unknown&serviceName=DEFAULT_GROUP%40%40service-provider-two&namespaceId=public&port=8212&clusterName=DEFAULT&ip=172.16.28.1, body: {}
2023-12-27 16:25:39.252 [com.alibaba.nacos.naming.failover] [] DEBUG com.alibaba.nacos.client.naming - failover switch is not found, failover00-00---000-VIPSRV_FAILOVER_SWITCH-000---00-00
2023-12-27 16:25:40.400 [com.alibaba.nacos.client.naming.updater] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/ns/instance/list?app=unknown&healthyOnly=false&namespaceId=public&clientIP=192.168.21.80&serviceName=DEFAULT_GROUP%40%40service-provider-two&udpPort=60532&clusters=DEFAULT, body: {}
2023-12-27 16:25:42.489 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - [BEAT] public sending beat to server: BeatInfo{port=8212, ip='172.16.28.1', weight=1.0, serviceName='DEFAULT_GROUP@@service-provider-two', cluster='DEFAULT', metadata={preserved.register.source=SPRING_CLOUD}, scheduled=false, period=5000, stopped=false}
2023-12-27 16:25:42.490 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: PUT, url: http://127.0.0.1:8848/nacos/v1/ns/instance/beat?app=unknown&serviceName=DEFAULT_GROUP%40%40service-provider-two&namespaceId=public&port=8212&clusterName=DEFAULT&ip=172.16.28.1, body: {}
2023-12-27 16:25:44.266 [com.alibaba.nacos.naming.failover] [] DEBUG com.alibaba.nacos.client.naming - failover switch is not found, failover00-00---000-VIPSRV_FAILOVER_SWITCH-000---00-00
2023-12-27 16:25:47.510 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - [BEAT] public sending beat to server: BeatInfo{port=8212, ip='172.16.28.1', weight=1.0, serviceName='DEFAULT_GROUP@@service-provider-two', cluster='DEFAULT', metadata={preserved.register.source=SPRING_CLOUD}, scheduled=false, period=5000, stopped=false}
2023-12-27 16:25:47.510 [com.alibaba.nacos.naming.beat.sender] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: PUT, url: http://127.0.0.1:8848/nacos/v1/ns/instance/beat?app=unknown&serviceName=DEFAULT_GROUP%40%40service-provider-two&namespaceId=public&port=8212&clusterName=DEFAULT&ip=172.16.28.1, body: {}
2023-12-27 16:25:49.278 [com.alibaba.nacos.naming.failover] [] DEBUG com.alibaba.nacos.client.naming - failover switch is not found, failover00-00---000-VIPSRV_FAILOVER_SWITCH-000---00-00
2023-12-27 16:25:50.060 [Thread-5] [] WARN  com.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2023-12-27 16:25:50.061 [Thread-26] [] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2023-12-27 16:25:50.061 [Thread-26] [] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2023-12-27 16:25:50.062 [Thread-5] [] WARN  com.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2023-12-27 16:25:50.240 [SpringApplicationShutdownHook] [] INFO  com.alibaba.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2023-12-27 16:25:50.240 [SpringApplicationShutdownHook] [] INFO  com.alibaba.nacos.client.naming - [BEAT] removing beat: DEFAULT_GROUP@@service-provider-two:172.16.28.1:8212 from beat map.
2023-12-27 16:25:50.240 [SpringApplicationShutdownHook] [] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] public deregistering service DEFAULT_GROUP@@service-provider-two with instance: Instance{instanceId='null', ip='172.16.28.1', port=8212, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2023-12-27 16:25:50.240 [SpringApplicationShutdownHook] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: DELETE, url: http://127.0.0.1:8848/nacos/v1/ns/instance?app=unknown&namespaceId=public&port=8212&clusterName=DEFAULT&ip=172.16.28.1&ephemeral=true&serviceName=DEFAULT_GROUP%40%40service-provider-two, body: {}
2023-12-27 16:25:50.251 [SpringApplicationShutdownHook] [] INFO  com.alibaba.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2023-12-27 16:25:50.252 [SpringApplicationShutdownHook] [] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.beat.BeatReactor do shutdown begin
2023-12-27 16:25:50.418 [com.alibaba.nacos.client.naming.updater] [] DEBUG com.alibaba.nacos.client.naming - HTTP method: GET, url: http://127.0.0.1:8848/nacos/v1/ns/instance/list?app=unknown&healthyOnly=false&namespaceId=public&clientIP=192.168.21.80&serviceName=DEFAULT_GROUP%40%40service-provider-two&udpPort=60532&clusters=DEFAULT, body: {}
2023-12-27 16:25:51.462 [com.alibaba.nacos.naming.push.receiver] [] INFO  com.alibaba.nacos.client.naming - received push data: {"type":"dom","data":"{\"name\":\"DEFAULT_GROUP@@service-provider-two\",\"clusters\":\"DEFAULT\",\"cacheMillis\":10000,\"hosts\":[],\"lastRefTime\":1703665551459,\"checksum\":\"\",\"allIPs\":false,\"reachProtectionThreshold\":false,\"valid\":true}","lastRefTime":274761222017300} from /192.168.21.80
2023-12-27 16:25:51.463 [com.alibaba.nacos.naming.push.receiver] [] INFO  com.alibaba.nacos.client.naming - removed ips(1) service: DEFAULT_GROUP@@service-provider-two@@DEFAULT -> [{"instanceId":"172.16.28.1#8212#DEFAULT#DEFAULT_GROUP@@service-provider-two","ip":"172.16.28.1","port":8212,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@service-provider-two","metadata":{"preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000}]
2023-12-27 16:25:51.463 [nacos.publisher-com.alibaba.nacos.client.naming.event.InstancesChangeEvent] [] DEBUG com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] the com.alibaba.nacos.client.naming.event.InstancesChangeEvent@22242a96 will received by com.alibaba.nacos.client.naming.event.InstancesChangeNotifier@205f52ea
2023-12-27 16:25:51.464 [com.alibaba.nacos.naming.push.receiver] [] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@service-provider-two@@DEFAULT -> []
